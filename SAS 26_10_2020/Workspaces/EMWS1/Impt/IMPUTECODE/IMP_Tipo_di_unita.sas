*;
* IMPUTE VARIABLE: Tipo_di_unita;
*;
length IMP_Tipo_di_unita $10;
label IMP_Tipo_di_unita = 'Imputed Tipo_di_unita';
IMP_Tipo_di_unita = Tipo_di_unita;
if IMP_Tipo_di_unita eq '' then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Tipo_di_unita $ 10;
LENGTH U_Tipo_di_unita $ 10;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Tipo_di_unitaposteriore = 'Previsto: Tipo_di_unita=posteriore';
label P_Tipo_di_unitaanteriore = 'Previsto: Tipo_di_unita=anteriore';
label P_Tipo_di_unita4x4 = 'Previsto: Tipo_di_unita=4x4';
label Q_Tipo_di_unitaposteriore = 'P non corretto: Tipo_di_unita=posteriore';
label Q_Tipo_di_unitaanteriore = 'P non corretto: Tipo_di_unita=anteriore';
label Q_Tipo_di_unita4x4 = 'P non corretto: Tipo_di_unita=4x4';
label I_Tipo_di_unita = 'In: Tipo_di_unita';
label U_Tipo_di_unita = 'Non normalizzata in: Tipo_di_unita';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_14 $ 14;
DROP _ARBFMT_14;
_ARBFMT_14 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 34550 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
34550 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'KONA' ,'DS 3 CROSSBACK' ,'LEAF' ,'208' ,
'CORSA' ,'NIRO' ,'PARTNER' ,'KANGOO' ,'NEW PANDA' ,'500' ,'PANDA' ,
'YPSILON' ,'TWINGO' ,'DUSTER' ,'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,
'COMPASS' ,'STONIC' ,'SPORTAGE' ,'GRANDLAND X' ,'OUTLANDER' ,
'CROSSLAND X' ,'TIPO' ,'CLIO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,
'VITARA' ,'500L' ,'500C' ,'PUMA' ,'C-HR' ,'CX-30' ,'3008' ,'XV' ,
'PASSAT VARIANT' ,'508' ,'LEON' ,'COROLLA' ,'GOLF' ,'YARIS' ,'A3' ,'UP!' ,
'POLO' ,'T-ROC' ,'ARONA' ,'ATECA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,
'X-TRAIL' ,'T-CROSS' ,'Q2' ,'TIGUAN' ,'OCTAVIA' ,'MEGANE' ,'TALISMAN' ,
'ASTRA' ,'FOCUS' ,'GOLF VARIANT' ,'308' ,'PASSAT' ,'C4 CACTUS' ,'IBIZA' ,
'SCALA' ,'COMBO' ,'SCENIC' ,'DOBLO' ,'CADDY' ,'B 180' ,'218' ,'216' ,
'TOURAN' ,'FIORINO' ,'116' ,'L200' ,'COOPER D COUNTRYMAN' ,'INSIGNIA' ,
'COOPER D CLUBMAN' ,'C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'E-TRON' ,'A4' ,'Q5' ,'NX 300' ,'UX 250H' ,
'X1' ,'X3' ,'520' ,'A6' ,'A5' ,'CLA 200' ,'STELVIO' ,'WRANGLER' ,'318' ,
'GIULIA' ,'118' ,'420' ,'C 220' ,'A4 ALLROAD' ,'320' ,'730' ,'ESPACE' )
THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1962 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1962 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('Q3' ,'E-TRON' ,'A4' ,'GRANDLAND X' ,'Q5' ,'NX 300' ,
'UX 250H' ,'X1' ,'X3' ,'PASSAT VARIANT' ,'508' ,'A6' ,'A5' ,'A3' ,
'CLA 200' ,'STELVIO' ,'WRANGLER' ,'TIGUAN' ,'PASSAT' ,'C 220' ,
'A4 ALLROAD' ,'730' ,'ESPACE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('520' ,'318' ,'GIULIA' ,'218' ,'420' ,'320' ) THEN
DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 35295 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 35295 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'ALTRO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('520' ,'318' ,'GIULIA' ,'420' ,'320' ) THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1672.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Peso_a_vuoto ) AND
1672.5 <= REP_Peso_a_vuoto THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Emissioni_di_CO2 ) THEN DO;
IF REP_Emissioni_di_CO2 < 131.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 131.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('318' ,'GIULIA' ,'420' ,'320' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('520' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0.84285714285714;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.15714285714285;
Q_Tipo_di_unitaposteriore = 0.84285714285714;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.15714285714285;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1720 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Peso_a_vuoto ) AND
1720 <= REP_Peso_a_vuoto THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('320' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('520' ,'420' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN
DO;
IF REP_Consumo_Carburante_Totale < 4.7 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 4.7 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Tipo_di_unitaposteriore = 0.85714285714285;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.14285714285714;
Q_Tipo_di_unitaposteriore = 0.85714285714285;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.14285714285714;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 1;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 1;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.38461538461538;
P_Tipo_di_unitaanteriore = 0.46153846153846;
P_Tipo_di_unita4x4 = 0.15384615384615;
Q_Tipo_di_unitaposteriore = 0.38461538461538;
Q_Tipo_di_unitaanteriore = 0.46153846153846;
Q_Tipo_di_unita4x4 = 0.15384615384615;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('E-TRON' ,'GRANDLAND X' ,'Q5' ,'NX 300' ,'UX 250H' ,
'X1' ,'X3' ,'STELVIO' ,'WRANGLER' ,'TIGUAN' ,'PASSAT' ,'C 220' ,
'A4 ALLROAD' ,'730' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'A4' ,'PASSAT VARIANT' ,'508' ,'A6' ,'A5' ,
'A3' ,'CLA 200' ,'ESPACE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('ALTRO' ,'SUV/FUORISTRADA/PICK-UP' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'434F5550C383C2A9'x ,
'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1985.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1985.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1997.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
1997.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 58000 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 58000 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Cilindri ) THEN DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('6' ,'8' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1998.5 THEN DO;
P_Tipo_di_unitaposteriore = 0.83333333333333;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.16666666666666;
Q_Tipo_di_unitaposteriore = 0.83333333333333;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.16666666666666;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 45300 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
45300 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Cilindri ) THEN DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('6' ,'8' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.6;
P_Tipo_di_unita4x4 = 0.4;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.6;
Q_Tipo_di_unita4x4 = 0.4;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.07142857142857;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.92857142857142;
Q_Tipo_di_unitaposteriore = 0.07142857142857;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.92857142857142;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 127.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
127.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN
DO;
IF REP_Consumo_Carburante_Totale < 4.95 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 4.95 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1996 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1996 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('BENZINA' ,'ELETTRICA/BENZINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('DIESEL' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale )
THEN DO;
IF 5.55 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Consumo_Carburante_Totale
< 5.55 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 42200 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 42200 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0.04761904761904;
P_Tipo_di_unitaanteriore = 0.85714285714285;
P_Tipo_di_unita4x4 = 0.09523809523809;
Q_Tipo_di_unitaposteriore = 0.04761904761904;
Q_Tipo_di_unitaanteriore = 0.85714285714285;
Q_Tipo_di_unita4x4 = 0.09523809523809;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.29629629629629;
P_Tipo_di_unita4x4 = 0.7037037037037;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.29629629629629;
Q_Tipo_di_unita4x4 = 0.7037037037037;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
IF NOT MISSING(REP_price ) AND
56200 <= REP_price THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.4;
P_Tipo_di_unita4x4 = 0.6;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.4;
Q_Tipo_di_unita4x4 = 0.6;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.02898550724637;
P_Tipo_di_unitaanteriore = 0.94202898550724;
P_Tipo_di_unita4x4 = 0.02898550724637;
Q_Tipo_di_unitaposteriore = 0.02898550724637;
Q_Tipo_di_unitaanteriore = 0.94202898550724;
Q_Tipo_di_unita4x4 = 0.02898550724637;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.018779342723;
P_Tipo_di_unitaanteriore = 0.12206572769953;
P_Tipo_di_unita4x4 = 0.85915492957746;
Q_Tipo_di_unitaposteriore = 0.018779342723;
Q_Tipo_di_unitaanteriore = 0.12206572769953;
Q_Tipo_di_unita4x4 = 0.85915492957746;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ,'5' ,'3' ,'7' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ,'CABRIO' ,'ALTRO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('TIPO' ,'DOBLO' ,'CADDY' ,'FIORINO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1123.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1123.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ,'BENZINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('DIESEL' ,'METANO' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ) THEN DO;
P_Tipo_di_unitaposteriore = 0.98148148148148;
P_Tipo_di_unitaanteriore = 0.01851851851851;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 0.98148148148148;
Q_Tipo_di_unitaanteriore = 0.01851851851851;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 1;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 1;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 1;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 1;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
ELSE DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('TWINGO' ,'XV' ) THEN DO;
_ARBFMT_12 = PUT( Marce , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
P_Tipo_di_unitaposteriore = 1;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 1;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 1;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 1;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'3' ,'4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 886.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 886.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('METANO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 14375 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 14375 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Marce ) THEN DO;
_ARBFMT_12 = PUT( Marce , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('6' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.97916666666666;
P_Tipo_di_unita4x4 = 0.02083333333333;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.97916666666666;
Q_Tipo_di_unita4x4 = 0.02083333333333;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.01818181818181;
P_Tipo_di_unita4x4 = 0.98181818181818;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.01818181818181;
Q_Tipo_di_unita4x4 = 0.98181818181818;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
165.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_14 = PUT( Tipo_di_cambio , $14.);
%DMNORMIP( _ARBFMT_14);
IF _ARBFMT_14 IN ('MANUALE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_14 IN ('AUTOMATICO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 21400 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 21400 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale )
THEN DO;
IF REP_Consumo_Carburante_Totale
< 7.65 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 7.65 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.76470588235294;
P_Tipo_di_unita4x4 = 0.23529411764705;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.76470588235294;
Q_Tipo_di_unita4x4 = 0.23529411764705;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.12;
P_Tipo_di_unita4x4 = 0.88;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.12;
Q_Tipo_di_unita4x4 = 0.88;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.00828571428571;
P_Tipo_di_unitaanteriore = 0.96028571428571;
P_Tipo_di_unita4x4 = 0.03142857142857;
Q_Tipo_di_unitaposteriore = 0.00828571428571;
Q_Tipo_di_unitaanteriore = 0.96028571428571;
Q_Tipo_di_unita4x4 = 0.03142857142857;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Tipo_di_unita;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Tipo_di_unita);
if _format200="POSTERIORE" then IMP_Tipo_di_unita = "posteriore";
else
if _format200="ANTERIORE" then IMP_Tipo_di_unita = "anteriore ";
else
if _format200="4X4" then IMP_Tipo_di_unita = "4x4       ";
END;
