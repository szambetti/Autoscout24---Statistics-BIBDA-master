*;
*MEAN-MAX-MIN-MEDIAN-MIDRANGE AND ROBUST ESTIMATES;
*;
label IMP_REP_Cilindrata = 'Imputed: Replacement: Cilindrata';
length IMP_REP_Cilindrata 8;
IMP_REP_Cilindrata = REP_Cilindrata;
if missing(REP_Cilindrata) then IMP_REP_Cilindrata = 1368;
label IMP_REP_Consumo_Carburante_Total = 'Imputed: Replacement: Consumo_Carburante_Totale';
length IMP_REP_Consumo_Carburante_Total 8;
IMP_REP_Consumo_Carburante_Total = REP_Consumo_Carburante_Totale;
if missing(REP_Consumo_Carburante_Totale) then IMP_REP_Consumo_Carburante_Total = 4.9;
label IMP_REP_Emissioni_di_CO2 = 'Imputed: Replacement: Emissioni_di_CO2';
length IMP_REP_Emissioni_di_CO2 8;
IMP_REP_Emissioni_di_CO2 = REP_Emissioni_di_CO2;
if missing(REP_Emissioni_di_CO2) then IMP_REP_Emissioni_di_CO2 = 116;
label IMP_REP_Peso_a_vuoto = 'Imputed: Replacement: Peso_a_vuoto';
length IMP_REP_Peso_a_vuoto 8;
IMP_REP_Peso_a_vuoto = REP_Peso_a_vuoto;
if missing(REP_Peso_a_vuoto) then IMP_REP_Peso_a_vuoto = 1320;
*;
* TREE IMPUTATION;
*;
*;
* IMPUTE VARIABLE: Cilindri;
*;
length IMP_Cilindri 8;
format IMP_Cilindri BEST.;
label IMP_Cilindri = 'Imputed: Cilindri';
IMP_Cilindri = Cilindri;
if missing(IMP_Cilindri) then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Cilindri $ 12;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Cilindri0 = 'Previsto: Cilindri=0';
label P_Cilindri3 = 'Previsto: Cilindri=3';
label P_Cilindri4 = 'Previsto: Cilindri=4';
label P_Cilindri1 = 'Previsto: Cilindri=1';
label P_Cilindri2 = 'Previsto: Cilindri=2';
label P_Cilindri6 = 'Previsto: Cilindri=6';
label P_Cilindri8 = 'Previsto: Cilindri=8';
label P_Cilindri5 = 'Previsto: Cilindri=5';
label Q_Cilindri0 = 'P non corretto: Cilindri=0';
label Q_Cilindri3 = 'P non corretto: Cilindri=3';
label Q_Cilindri4 = 'P non corretto: Cilindri=4';
label Q_Cilindri1 = 'P non corretto: Cilindri=1';
label Q_Cilindri2 = 'P non corretto: Cilindri=2';
label Q_Cilindri6 = 'P non corretto: Cilindri=6';
label Q_Cilindri8 = 'P non corretto: Cilindri=8';
label Q_Cilindri5 = 'P non corretto: Cilindri=5';
label I_Cilindri = 'In: Cilindri';
label U_Cilindri = 'Non normalizzata in: Cilindri';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_14 $ 14;
DROP _ARBFMT_14;
_ARBFMT_14 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 886.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
886.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'ELETTRICA/BENZINA' ,
'METANO' ,'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 7220 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 7220 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
1 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Tipo_di_cambio ) THEN DO;
_ARBFMT_14 = PUT( Tipo_di_cambio , $14.);
%DMNORMIP( _ARBFMT_14);
IF _ARBFMT_14 IN ('AUTOMATICO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_14 IN ('MANUALE' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'METANO' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Cilindri0 = 0.98275862068965;
P_Cilindri3 = 0;
P_Cilindri4 = 0;
P_Cilindri1 = 0.01724137931034;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0.98275862068965;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0.01724137931034;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '0';
U_Cilindri = 0;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0;
P_Cilindri4 = 0.02857142857142;
P_Cilindri1 = 0;
P_Cilindri2 = 0.97142857142857;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0.02857142857142;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0.97142857142857;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '2';
U_Cilindri = 2;
END;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1214 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
1214 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'500' ,'TWINGO' ,'DUSTER' ,'500X' ,
'CAPTUR' ,'RENEGADE' ,'CROSSLAND X' ,'CLIO' ,'500C' ,'PUMA' ,'3008' ,
'A 250' ,'UP!' ,'ARONA' ,'KAMIQ' ,'FOCUS' ,'308' ,'C4 CACTUS' ,'IBIZA' ,
'GRAND C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'KONA' ,'DS 3 CROSSBACK' ,'A4' ,'208' ,
'CORSA' ,'PARTNER' ,'KANGOO' ,'NEW PANDA' ,'PANDA' ,'YPSILON' ,
'TIVOLI' ,'COMPASS' ,'STONIC' ,'SPORTAGE' ,'GRANDLAND X' ,'OUTLANDER' ,
'TIPO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,'VITARA' ,'500L' ,'Q5' ,
'NX 300' ,'UX 250H' ,'X1' ,'C-HR' ,'CX-30' ,'X3' ,'PASSAT VARIANT' ,
'508' ,'520' ,'A6' ,'LEON' ,'COROLLA' ,'CAYENNE' ,'GOLF' ,'YARIS' ,
'A5' ,'A3' ,'POLO' ,'T-ROC' ,'CLA 200' ,'STELVIO' ,'ATECA' ,'KADJAR' ,
'QASHQAI' ,'X-TRAIL' ,'WRANGLER' ,'T-CROSS' ,'Q2' ,'TIGUAN' ,'OCTAVIA' ,
'MEGANE' ,'TALISMAN' ,'ASTRA' ,'GOLF VARIANT' ,'PASSAT' ,'318' ,
'SCALA' ,'GIULIA' ,'E-PACE' ,'COMBO' ,'118' ,'TUCSON' ,'SCENIC' ,
'DOBLO' ,'CADDY' ,'B 180' ,'218' ,'216' ,'TOURAN' ,'FIORINO' ,'420' ,
'C 220' ,'L200' ,'COOPER D COUNTRYMAN' ,'CHEROKEE' ,'INSIGNIA' ,
'COOPER D CLUBMAN' ,'A4 ALLROAD' ,'320' ,'730' ,'ESPACE' ,
'C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ,'ELETTRICA/BENZINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'METANO' ,'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ,'3' ) THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Consumo_Carburante_Totale ) AND
REP_Consumo_Carburante_Totale < 1.45 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Consumo_Carburante_Totale ) AND
1.45 <= REP_Consumo_Carburante_Totale THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'ELETTRICA/BENZINA' ,'METANO' ,
'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Emissioni_di_CO2 ) THEN DO;
IF REP_Emissioni_di_CO2 < 57.25837399 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 57.25837399 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Cilindri0 = 0.2;
P_Cilindri3 = 0;
P_Cilindri4 = 0;
P_Cilindri1 = 0.8;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0.2;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0.8;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '1';
U_Cilindri = 1;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_10 = PUT( Tipo_di_unita , $10.);
%DMNORMIP( _ARBFMT_10);
IF _ARBFMT_10 IN ('ANTERIORE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_10 IN ('POSTERIORE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Posti_a_sedere ) THEN DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ,'5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ,'CABRIO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'ALTRO' ,
'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('ALTRO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ,'CABRIO' ,
'434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(conditional_on_price ) THEN DO;
_ARBFMT_12 = PUT( conditional_on_price , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('12' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Posti_a_sedere ) THEN DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ,'5' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0;
P_Cilindri4 = 0;
P_Cilindri1 = 1;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0;
Q_Cilindri1 = 1;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '1';
U_Cilindri = 1;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 1;
P_Cilindri4 = 0;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 1;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '3';
U_Cilindri = 3;
END;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0.99457994579945;
P_Cilindri4 = 0.00451671183378;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0.00090334236675;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0.99457994579945;
Q_Cilindri4 = 0.00451671183378;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0.00090334236675;
I_Cilindri = '3';
U_Cilindri = 3;
END;
END;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0.06666666666666;
P_Cilindri4 = 0;
P_Cilindri1 = 0.93333333333333;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0.06666666666666;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0.93333333333333;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '1';
U_Cilindri = 1;
END;
END;
ELSE DO;
IF NOT MISSING(REP_price ) AND
61903.072743 <= REP_price THEN DO;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 2446.5 THEN DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0.1;
P_Cilindri4 = 0.9;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0.1;
Q_Cilindri4 = 0.9;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '4';
U_Cilindri = 4;
END;
ELSE DO;
IF NOT MISSING(REP_Cilindrata ) AND
3096.6309853 <= REP_Cilindrata THEN DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0;
P_Cilindri4 = 0;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 1;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 1;
Q_Cilindri5 = 0;
I_Cilindri = '8';
U_Cilindri = 8;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0;
P_Cilindri4 = 0;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 1;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 1;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '6';
U_Cilindri = 6;
END;
END;
END;
ELSE DO;
IF NOT MISSING(REP_Consumo_Carburante_Totale ) AND
REP_Consumo_Carburante_Totale < 1.35 THEN DO;
P_Cilindri0 = 0.33333333333333;
P_Cilindri3 = 0;
P_Cilindri4 = 0.66666666666666;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0.33333333333333;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0.66666666666666;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '4';
U_Cilindri = 4;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 2871.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
2871.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Tagliandi_certificati ) THEN DO;
_ARBFMT_12 = PUT( Tagliandi_certificati , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1840 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Peso_a_vuoto ) AND
1840 <= REP_Peso_a_vuoto THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 48600 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 48600 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0.31538461538461;
P_Cilindri4 = 0.66923076923076;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0.01538461538461;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0.31538461538461;
Q_Cilindri4 = 0.66923076923076;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0.01538461538461;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '4';
U_Cilindri = 4;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0;
P_Cilindri4 = 0;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 1;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0;
Q_Cilindri4 = 0;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 1;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '6';
U_Cilindri = 6;
END;
END;
ELSE DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('X1' ,'YARIS' ,'ASTRA' ,'216' ) THEN DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0.54098360655737;
P_Cilindri4 = 0.45901639344262;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0.54098360655737;
Q_Cilindri4 = 0.45901639344262;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '3';
U_Cilindri = 3;
END;
ELSE DO;
P_Cilindri0 = 0;
P_Cilindri3 = 0.00357142857142;
P_Cilindri4 = 0.99642857142857;
P_Cilindri1 = 0;
P_Cilindri2 = 0;
P_Cilindri6 = 0;
P_Cilindri8 = 0;
P_Cilindri5 = 0;
Q_Cilindri0 = 0;
Q_Cilindri3 = 0.00357142857142;
Q_Cilindri4 = 0.99642857142857;
Q_Cilindri1 = 0;
Q_Cilindri2 = 0;
Q_Cilindri6 = 0;
Q_Cilindri8 = 0;
Q_Cilindri5 = 0;
I_Cilindri = '4';
U_Cilindri = 4;
END;
END;
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Cilindri;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Cilindri);
if _format200="8" then IMP_Cilindri = 8;
else
if _format200="6" then IMP_Cilindri = 6;
else
if _format200="5" then IMP_Cilindri = 5;
else
if _format200="4" then IMP_Cilindri = 4;
else
if _format200="3" then IMP_Cilindri = 3;
else
if _format200="2" then IMP_Cilindri = 2;
else
if _format200="1" then IMP_Cilindri = 1;
else
if _format200="0" then IMP_Cilindri = 0;
END;
*;
* IMPUTE VARIABLE: Classe_emissioni;
*;
length IMP_Classe_emissioni $12;
label IMP_Classe_emissioni = 'Imputed Classe_emissioni';
IMP_Classe_emissioni = Classe_emissioni;
if IMP_Classe_emissioni eq '' then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Classe_emissioni $ 12;
LENGTH U_Classe_emissioni $ 12;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Classe_emissioniElettrica = 'Previsto: Classe_emissioni=Elettrica';
label P_Classe_emissioniEuro_6c = 'Previsto: Classe_emissioni=Euro 6c';
label P_Classe_emissioniEuro_6 = 'Previsto: Classe_emissioni=Euro 6';
label P_Classe_emissioniEuro_6d_TEMP =
'Previsto: Classe_emissioni=Euro 6d-TEMP';
label P_Classe_emissioniEuro_6d = 'Previsto: Classe_emissioni=Euro 6d';
label P_Classe_emissioniEuro_4 = 'Previsto: Classe_emissioni=Euro 4';
label P_Classe_emissioniEuro_5 = 'Previsto: Classe_emissioni=Euro 5';
label Q_Classe_emissioniElettrica =
'P non corretto: Classe_emissioni=Elettrica';
label Q_Classe_emissioniEuro_6c = 'P non corretto: Classe_emissioni=Euro 6c';
label Q_Classe_emissioniEuro_6 = 'P non corretto: Classe_emissioni=Euro 6';
label Q_Classe_emissioniEuro_6d_TEMP =
'P non corretto: Classe_emissioni=Euro 6d-TEMP';
label Q_Classe_emissioniEuro_6d = 'P non corretto: Classe_emissioni=Euro 6d';
label Q_Classe_emissioniEuro_4 = 'P non corretto: Classe_emissioni=Euro 4';
label Q_Classe_emissioniEuro_5 = 'P non corretto: Classe_emissioni=Euro 5';
label I_Classe_emissioni = 'In: Classe_emissioni';
label U_Classe_emissioni = 'Non normalizzata in: Classe_emissioni';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('3' ,'4' ,'1' ,'2' ,'6' ,'8' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'ELETTRICA/BENZINA' ,'METANO' ,
'GPL' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Classe_emissioniElettrica = 0.93333333333333;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.05;
P_Classe_emissioniEuro_6d_TEMP = 0.01666666666666;
P_Classe_emissioniEuro_6d = 0;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0.93333333333333;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.05;
Q_Classe_emissioniEuro_6d_TEMP = 0.01666666666666;
Q_Classe_emissioniEuro_6d = 0;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'ELETTRICA';
U_Classe_emissioni = 'Elettrica';
END;
ELSE DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
P_Classe_emissioniElettrica = 0.2;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0;
P_Classe_emissioniEuro_6d_TEMP = 0.6;
P_Classe_emissioniEuro_6d = 0.2;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0.2;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0;
Q_Classe_emissioniEuro_6d_TEMP = 0.6;
Q_Classe_emissioniEuro_6d = 0.2;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6D-TEMP';
U_Classe_emissioni = 'Euro 6d-TEMP';
END;
ELSE DO;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
937.5 <= REP_Peso_a_vuoto THEN DO;
IF NOT MISSING(REP_Anno ) AND
REP_Anno < 2017.5 THEN DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.66666666666666;
P_Classe_emissioniEuro_6d_TEMP = 0.22222222222222;
P_Classe_emissioniEuro_6d = 0;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0.11111111111111;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.66666666666666;
Q_Classe_emissioniEuro_6d_TEMP = 0.22222222222222;
Q_Classe_emissioniEuro_6d = 0;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0.11111111111111;
I_Classe_emissioni = 'EURO 6';
U_Classe_emissioni = 'Euro 6';
END;
ELSE DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('ALTRO' ) THEN DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 2239 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 2239 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 14545 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 14545 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.04135338345864;
P_Classe_emissioniEuro_6d_TEMP = 0.94360902255639;
P_Classe_emissioniEuro_6d = 0.01503759398496;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.04135338345864;
Q_Classe_emissioniEuro_6d_TEMP = 0.94360902255639;
Q_Classe_emissioniEuro_6d = 0.01503759398496;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6D-TEMP';
U_Classe_emissioni = 'Euro 6d-TEMP';
END;
ELSE DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.8;
P_Classe_emissioniEuro_6d_TEMP = 0.2;
P_Classe_emissioniEuro_6d = 0;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.8;
Q_Classe_emissioniEuro_6d_TEMP = 0.2;
Q_Classe_emissioniEuro_6d = 0;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6';
U_Classe_emissioni = 'Euro 6';
END;
END;
ELSE DO;
_ARBFMT_10 = PUT( Tipo_di_unita , $10.);
%DMNORMIP( _ARBFMT_10);
IF _ARBFMT_10 IN ('POSTERIORE' ,'ANTERIORE' ,'4X4' ) THEN DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.56583455702398;
P_Classe_emissioniEuro_6d_TEMP = 0.38325991189427;
P_Classe_emissioniEuro_6d = 0.05090553108174;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.56583455702398;
Q_Classe_emissioniEuro_6d_TEMP = 0.38325991189427;
Q_Classe_emissioniEuro_6d = 0.05090553108174;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6';
U_Classe_emissioni = 'Euro 6';
END;
ELSE DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.10828025477707;
P_Classe_emissioniEuro_6d_TEMP = 0.87261146496815;
P_Classe_emissioniEuro_6d = 0.01910828025477;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.10828025477707;
Q_Classe_emissioniEuro_6d_TEMP = 0.87261146496815;
Q_Classe_emissioniEuro_6d = 0.01910828025477;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6D-TEMP';
U_Classe_emissioni = 'Euro 6d-TEMP';
END;
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Usato_Garantito , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'ALTRO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('CITY CAR' ,'434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Tagliandi_certificati ) THEN DO;
_ARBFMT_12 = PUT( Tagliandi_certificati , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
IF NOT MISSING(REP_Consumo_Carburante_Totale ) AND
3.65 <= REP_Consumo_Carburante_Totale THEN DO;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 82.5 THEN DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0;
P_Classe_emissioniEuro_6d_TEMP = 1;
P_Classe_emissioniEuro_6d = 0;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0;
Q_Classe_emissioniEuro_6d_TEMP = 1;
Q_Classe_emissioniEuro_6d = 0;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6D-TEMP';
U_Classe_emissioni = 'Euro 6d-TEMP';
END;
ELSE DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0.01016949152542;
P_Classe_emissioniEuro_6 = 0.87118644067796;
P_Classe_emissioniEuro_6d_TEMP = 0.10847457627118;
P_Classe_emissioniEuro_6d = 0.01016949152542;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0.01016949152542;
Q_Classe_emissioniEuro_6 = 0.87118644067796;
Q_Classe_emissioniEuro_6d_TEMP = 0.10847457627118;
Q_Classe_emissioniEuro_6d = 0.01016949152542;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6';
U_Classe_emissioni = 'Euro 6';
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('4' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Porte ) THEN DO;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 14350 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 14350 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.4;
P_Classe_emissioniEuro_6d_TEMP = 0.1;
P_Classe_emissioniEuro_6d = 0.45;
P_Classe_emissioniEuro_4 = 0.05;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.4;
Q_Classe_emissioniEuro_6d_TEMP = 0.1;
Q_Classe_emissioniEuro_6d = 0.45;
Q_Classe_emissioniEuro_4 = 0.05;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6D';
U_Classe_emissioni = 'Euro 6d';
END;
ELSE DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.37777777777777;
P_Classe_emissioniEuro_6d_TEMP = 0.61111111111111;
P_Classe_emissioniEuro_6d = 0;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0.01111111111111;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.37777777777777;
Q_Classe_emissioniEuro_6d_TEMP = 0.61111111111111;
Q_Classe_emissioniEuro_6d = 0;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0.01111111111111;
I_Classe_emissioni = 'EURO 6D-TEMP';
U_Classe_emissioni = 'Euro 6d-TEMP';
END;
END;
END;
ELSE DO;
P_Classe_emissioniElettrica = 0;
P_Classe_emissioniEuro_6c = 0;
P_Classe_emissioniEuro_6 = 0.98409893992932;
P_Classe_emissioniEuro_6d_TEMP = 0.01236749116607;
P_Classe_emissioniEuro_6d = 0.00353356890459;
P_Classe_emissioniEuro_4 = 0;
P_Classe_emissioniEuro_5 = 0;
Q_Classe_emissioniElettrica = 0;
Q_Classe_emissioniEuro_6c = 0;
Q_Classe_emissioniEuro_6 = 0.98409893992932;
Q_Classe_emissioniEuro_6d_TEMP = 0.01236749116607;
Q_Classe_emissioniEuro_6d = 0.00353356890459;
Q_Classe_emissioniEuro_4 = 0;
Q_Classe_emissioniEuro_5 = 0;
I_Classe_emissioni = 'EURO 6';
U_Classe_emissioni = 'Euro 6';
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Classe_emissioni;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Classe_emissioni);
if _format200="EURO 6D-TEMP" then IMP_Classe_emissioni = "Euro 6d-TEMP";
else
if _format200="EURO 6D" then IMP_Classe_emissioni = "Euro 6d     ";
else
if _format200="EURO 6C" then IMP_Classe_emissioni = "Euro 6c     ";
else
if _format200="EURO 6" then IMP_Classe_emissioni = "Euro 6      ";
else
if _format200="EURO 5" then IMP_Classe_emissioni = "Euro 5      ";
else
if _format200="EURO 4" then IMP_Classe_emissioni = "Euro 4      ";
else
if _format200="ELETTRICA" then IMP_Classe_emissioni = "Elettrica   ";
END;
*;
* IMPUTE VARIABLE: Colore_esterno;
*;
length IMP_Colore_esterno $11;
label IMP_Colore_esterno = 'Imputed Colore_esterno';
IMP_Colore_esterno = Colore_esterno;
if IMP_Colore_esterno eq '' then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Colore_esterno $ 11;
LENGTH U_Colore_esterno $ 11;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Colore_esternoNero = 'Previsto: Colore_esterno=Nero';
label P_Colore_esternoBlu_Azzurro = 'Previsto: Colore_esterno=Blu/Azzurro';
label P_Colore_esternoGrigio = 'Previsto: Colore_esterno=Grigio';
label P_Colore_esternoArgento = 'Previsto: Colore_esterno=Argento';
label P_Colore_esternoBianco = 'Previsto: Colore_esterno=Bianco';
label P_Colore_esternoRosso = 'Previsto: Colore_esterno=Rosso';
label P_Colore_esternoLilla = 'Previsto: Colore_esterno=Lilla';
label P_Colore_esternoArancione = 'Previsto: Colore_esterno=Arancione';
label P_Colore_esternoVerde = 'Previsto: Colore_esterno=Verde';
label P_Colore_esternoMarrone = 'Previsto: Colore_esterno=Marrone';
label P_Colore_esternoGiallo = 'Previsto: Colore_esterno=Giallo';
label P_Colore_esternoOro = 'Previsto: Colore_esterno=Oro';
label P_Colore_esternoBeige = 'Previsto: Colore_esterno=Beige';
label P_Colore_esternoBronzo = 'Previsto: Colore_esterno=Bronzo';
label Q_Colore_esternoNero = 'P non corretto: Colore_esterno=Nero';
label Q_Colore_esternoBlu_Azzurro =
'P non corretto: Colore_esterno=Blu/Azzurro';
label Q_Colore_esternoGrigio = 'P non corretto: Colore_esterno=Grigio';
label Q_Colore_esternoArgento = 'P non corretto: Colore_esterno=Argento';
label Q_Colore_esternoBianco = 'P non corretto: Colore_esterno=Bianco';
label Q_Colore_esternoRosso = 'P non corretto: Colore_esterno=Rosso';
label Q_Colore_esternoLilla = 'P non corretto: Colore_esterno=Lilla';
label Q_Colore_esternoArancione = 'P non corretto: Colore_esterno=Arancione';
label Q_Colore_esternoVerde = 'P non corretto: Colore_esterno=Verde';
label Q_Colore_esternoMarrone = 'P non corretto: Colore_esterno=Marrone';
label Q_Colore_esternoGiallo = 'P non corretto: Colore_esterno=Giallo';
label Q_Colore_esternoOro = 'P non corretto: Colore_esterno=Oro';
label Q_Colore_esternoBeige = 'P non corretto: Colore_esterno=Beige';
label Q_Colore_esternoBronzo = 'P non corretto: Colore_esterno=Bronzo';
label I_Colore_esterno = 'In: Colore_esterno';
label U_Colore_esterno = 'Non normalizzata in: Colore_esterno';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_11 $ 11;
DROP _ARBFMT_11;
_ARBFMT_11 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
_ARBFMT_12 = PUT( REP_Tipo_di_vernice , $12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('METALLIZZATO' ) THEN DO;
DROP _BRANCH_;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 18845 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
18845 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'208' ,'CORSA' ,'NEW PANDA' ,'500' ,
'PANDA' ,'YPSILON' ,'DUSTER' ,'500X' ,'CAPTUR' ,'STONIC' ,
'CROSSLAND X' ,'TIPO' ,'CLIO' ,'SANDERO' ,'FIESTA' ,'500L' ,'500C' ,
'IBIZA' ,'DOBLO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'KONA' ,'A4' ,'TIVOLI' ,'RENEGADE' ,
'COMPASS' ,'SPORTAGE' ,'GRANDLAND X' ,'GIULIETTA' ,'VITARA' ,'PUMA' ,
'NX 300' ,'UX 250H' ,'X1' ,'C-HR' ,'X3' ,'PASSAT VARIANT' ,'508' ,
'520' ,'A6' ,'LEON' ,'COROLLA' ,'GOLF' ,'A5' ,'A3' ,'A 250' ,'POLO' ,
'T-ROC' ,'ARONA' ,'STELVIO' ,'ATECA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,
'X-TRAIL' ,'T-CROSS' ,'TIGUAN' ,'OCTAVIA' ,'MEGANE' ,'TALISMAN' ,
'ASTRA' ,'FOCUS' ,'GOLF VARIANT' ,'308' ,'PASSAT' ,'318' ,'SCALA' ,
'GIULIA' ,'SCENIC' ,'218' ,'216' ,'TOURAN' ,'420' ,'C 220' ,
'COOPER D CLUBMAN' ,'320' ,'730' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1370.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1370.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_BRANCH_ = -1;
_ARBFMT_10 = PUT( Tipo_di_unita , $10.);
%DMNORMIP( _ARBFMT_10);
IF _ARBFMT_10 IN ('POSTERIORE' ,'ANTERIORE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_10 IN ('4X4' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 7470 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 7470 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Colore_esternoNero = 0;
P_Colore_esternoBlu_Azzurro = 0;
P_Colore_esternoGrigio = 0.4;
P_Colore_esternoArgento = 0.1;
P_Colore_esternoBianco = 0;
P_Colore_esternoRosso = 0;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0;
P_Colore_esternoVerde = 0.4;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0.1;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0;
Q_Colore_esternoBlu_Azzurro = 0;
Q_Colore_esternoGrigio = 0.4;
Q_Colore_esternoArgento = 0.1;
Q_Colore_esternoBianco = 0;
Q_Colore_esternoRosso = 0;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0;
Q_Colore_esternoVerde = 0.4;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0.1;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'GRIGIO';
U_Colore_esterno = 'Grigio';
END;
ELSE DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('2' ) THEN DO;
P_Colore_esternoNero = 0;
P_Colore_esternoBlu_Azzurro = 0;
P_Colore_esternoGrigio = 0.13333333333333;
P_Colore_esternoArgento = 0.66666666666666;
P_Colore_esternoBianco = 0.2;
P_Colore_esternoRosso = 0;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0;
P_Colore_esternoVerde = 0;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0;
Q_Colore_esternoBlu_Azzurro = 0;
Q_Colore_esternoGrigio = 0.13333333333333;
Q_Colore_esternoArgento = 0.66666666666666;
Q_Colore_esternoBianco = 0.2;
Q_Colore_esternoRosso = 0;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0;
Q_Colore_esternoVerde = 0;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'ARGENTO';
U_Colore_esterno = 'Argento';
END;
ELSE DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
P_Colore_esternoNero = 0;
P_Colore_esternoBlu_Azzurro = 0;
P_Colore_esternoGrigio = 0;
P_Colore_esternoArgento = 0;
P_Colore_esternoBianco = 0.72727272727272;
P_Colore_esternoRosso = 0.18181818181818;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0;
P_Colore_esternoVerde = 0.09090909090909;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0;
Q_Colore_esternoBlu_Azzurro = 0;
Q_Colore_esternoGrigio = 0;
Q_Colore_esternoArgento = 0;
Q_Colore_esternoBianco = 0.72727272727272;
Q_Colore_esternoRosso = 0.18181818181818;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0;
Q_Colore_esternoVerde = 0.09090909090909;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'BIANCO';
U_Colore_esterno = 'Bianco';
END;
ELSE DO;
P_Colore_esternoNero = 0.18477043673012;
P_Colore_esternoBlu_Azzurro = 0.18812989921612;
P_Colore_esternoGrigio = 0.36730123180291;
P_Colore_esternoArgento = 0.07390817469204;
P_Colore_esternoBianco = 0.07390817469204;
P_Colore_esternoRosso = 0.0515117581187;
P_Colore_esternoLilla = 0.00111982082866;
P_Colore_esternoArancione = 0.00447928331466;
P_Colore_esternoVerde = 0.03583426651735;
P_Colore_esternoMarrone = 0.00223964165733;
P_Colore_esternoGiallo = 0.00111982082866;
P_Colore_esternoOro = 0.00223964165733;
P_Colore_esternoBeige = 0.00111982082866;
P_Colore_esternoBronzo = 0.01231802911534;
Q_Colore_esternoNero = 0.18477043673012;
Q_Colore_esternoBlu_Azzurro = 0.18812989921612;
Q_Colore_esternoGrigio = 0.36730123180291;
Q_Colore_esternoArgento = 0.07390817469204;
Q_Colore_esternoBianco = 0.07390817469204;
Q_Colore_esternoRosso = 0.0515117581187;
Q_Colore_esternoLilla = 0.00111982082866;
Q_Colore_esternoArancione = 0.00447928331466;
Q_Colore_esternoVerde = 0.03583426651735;
Q_Colore_esternoMarrone = 0.00223964165733;
Q_Colore_esternoGiallo = 0.00111982082866;
Q_Colore_esternoOro = 0.00223964165733;
Q_Colore_esternoBeige = 0.00111982082866;
Q_Colore_esternoBronzo = 0.01231802911534;
I_Colore_esterno = 'GRIGIO';
U_Colore_esterno = 'Grigio';
END;
END;
END;
END;
ELSE DO;
IF NOT MISSING(REP_Consumo_Carburante_Totale ) AND
8.95 <= REP_Consumo_Carburante_Totale THEN DO;
P_Colore_esternoNero = 0.3;
P_Colore_esternoBlu_Azzurro = 0;
P_Colore_esternoGrigio = 0.2;
P_Colore_esternoArgento = 0.1;
P_Colore_esternoBianco = 0.2;
P_Colore_esternoRosso = 0;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0.2;
P_Colore_esternoVerde = 0;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.3;
Q_Colore_esternoBlu_Azzurro = 0;
Q_Colore_esternoGrigio = 0.2;
Q_Colore_esternoArgento = 0.1;
Q_Colore_esternoBianco = 0.2;
Q_Colore_esternoRosso = 0;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0.2;
Q_Colore_esternoVerde = 0;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'NERO';
U_Colore_esterno = 'Nero';
END;
ELSE DO;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1236.5 THEN DO;
P_Colore_esternoNero = 0.10526315789473;
P_Colore_esternoBlu_Azzurro = 0.05263157894736;
P_Colore_esternoGrigio = 0.10526315789473;
P_Colore_esternoArgento = 0.1578947368421;
P_Colore_esternoBianco = 0.26315789473684;
P_Colore_esternoRosso = 0.26315789473684;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0;
P_Colore_esternoVerde = 0;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0.05263157894736;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.10526315789473;
Q_Colore_esternoBlu_Azzurro = 0.05263157894736;
Q_Colore_esternoGrigio = 0.10526315789473;
Q_Colore_esternoArgento = 0.1578947368421;
Q_Colore_esternoBianco = 0.26315789473684;
Q_Colore_esternoRosso = 0.26315789473684;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0;
Q_Colore_esternoVerde = 0;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0.05263157894736;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'BIANCO';
U_Colore_esterno = 'Bianco';
END;
ELSE DO;
P_Colore_esternoNero = 0.23758278145695;
P_Colore_esternoBlu_Azzurro = 0.10347682119205;
P_Colore_esternoGrigio = 0.34519867549668;
P_Colore_esternoArgento = 0.14155629139072;
P_Colore_esternoBianco = 0.13990066225165;
P_Colore_esternoRosso = 0.01655629139072;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0.00331125827814;
P_Colore_esternoVerde = 0.0024834437086;
P_Colore_esternoMarrone = 0.0024834437086;
P_Colore_esternoGiallo = 0.00165562913907;
P_Colore_esternoOro = 0.00165562913907;
P_Colore_esternoBeige = 0.00413907284768;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.23758278145695;
Q_Colore_esternoBlu_Azzurro = 0.10347682119205;
Q_Colore_esternoGrigio = 0.34519867549668;
Q_Colore_esternoArgento = 0.14155629139072;
Q_Colore_esternoBianco = 0.13990066225165;
Q_Colore_esternoRosso = 0.01655629139072;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0.00331125827814;
Q_Colore_esternoVerde = 0.0024834437086;
Q_Colore_esternoMarrone = 0.0024834437086;
Q_Colore_esternoGiallo = 0.00165562913907;
Q_Colore_esternoOro = 0.00165562913907;
Q_Colore_esternoBeige = 0.00413907284768;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'GRIGIO';
U_Colore_esterno = 'Grigio';
END;
END;
END;
END;
ELSE DO;
IF NOT MISSING(REP_price ) AND
REP_price < 8550 THEN DO;
P_Colore_esternoNero = 0;
P_Colore_esternoBlu_Azzurro = 0;
P_Colore_esternoGrigio = 0.22222222222222;
P_Colore_esternoArgento = 0;
P_Colore_esternoBianco = 0.11111111111111;
P_Colore_esternoRosso = 0;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0.66666666666666;
P_Colore_esternoVerde = 0;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0;
Q_Colore_esternoBlu_Azzurro = 0;
Q_Colore_esternoGrigio = 0.22222222222222;
Q_Colore_esternoArgento = 0;
Q_Colore_esternoBianco = 0.11111111111111;
Q_Colore_esternoRosso = 0;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0.66666666666666;
Q_Colore_esternoVerde = 0;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'ARANCIONE';
U_Colore_esterno = 'Arancione';
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'3' ,'4' ,'6' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('1' ,'2' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 886.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 886.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Colore_esternoNero = 0.09090909090909;
P_Colore_esternoBlu_Azzurro = 0.0340909090909;
P_Colore_esternoGrigio = 0.19318181818181;
P_Colore_esternoArgento = 0.01136363636363;
P_Colore_esternoBianco = 0.27272727272727;
P_Colore_esternoRosso = 0.07954545454545;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0.0340909090909;
P_Colore_esternoVerde = 0.125;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0.14772727272727;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0.01136363636363;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.09090909090909;
Q_Colore_esternoBlu_Azzurro = 0.0340909090909;
Q_Colore_esternoGrigio = 0.19318181818181;
Q_Colore_esternoArgento = 0.01136363636363;
Q_Colore_esternoBianco = 0.27272727272727;
Q_Colore_esternoRosso = 0.07954545454545;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0.0340909090909;
Q_Colore_esternoVerde = 0.125;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0.14772727272727;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0.01136363636363;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'BIANCO';
U_Colore_esterno = 'Bianco';
END;
ELSE DO;
IF NOT MISSING(REP_price ) AND
REP_price < 9670 THEN DO;
P_Colore_esternoNero = 0.07142857142857;
P_Colore_esternoBlu_Azzurro = 0;
P_Colore_esternoGrigio = 0.21428571428571;
P_Colore_esternoArgento = 0;
P_Colore_esternoBianco = 0.42857142857142;
P_Colore_esternoRosso = 0.07142857142857;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0.21428571428571;
P_Colore_esternoVerde = 0;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.07142857142857;
Q_Colore_esternoBlu_Azzurro = 0;
Q_Colore_esternoGrigio = 0.21428571428571;
Q_Colore_esternoArgento = 0;
Q_Colore_esternoBianco = 0.42857142857142;
Q_Colore_esternoRosso = 0.07142857142857;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0.21428571428571;
Q_Colore_esternoVerde = 0;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'BIANCO';
U_Colore_esterno = 'Bianco';
END;
ELSE DO;
_ARBFMT_12 = PUT( REP_Tipo_di_vernice , $12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('BASE' ) THEN DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'3' ,'4' ) THEN DO;
P_Colore_esternoNero = 0.11993517017828;
P_Colore_esternoBlu_Azzurro = 0.02917341977309;
P_Colore_esternoGrigio = 0.11345218800648;
P_Colore_esternoArgento = 0.06482982171799;
P_Colore_esternoBianco = 0.57374392220421;
P_Colore_esternoRosso = 0.07131280388978;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0.00486223662884;
P_Colore_esternoVerde = 0.01944894651539;
P_Colore_esternoMarrone = 0.00162074554294;
P_Colore_esternoGiallo = 0;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0.00162074554294;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.11993517017828;
Q_Colore_esternoBlu_Azzurro = 0.02917341977309;
Q_Colore_esternoGrigio = 0.11345218800648;
Q_Colore_esternoArgento = 0.06482982171799;
Q_Colore_esternoBianco = 0.57374392220421;
Q_Colore_esternoRosso = 0.07131280388978;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0.00486223662884;
Q_Colore_esternoVerde = 0.01944894651539;
Q_Colore_esternoMarrone = 0.00162074554294;
Q_Colore_esternoGiallo = 0;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0.00162074554294;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'BIANCO';
U_Colore_esterno = 'Bianco';
END;
ELSE DO;
P_Colore_esternoNero = 0.13392857142857;
P_Colore_esternoBlu_Azzurro = 0.125;
P_Colore_esternoGrigio = 0.29464285714285;
P_Colore_esternoArgento = 0.08035714285714;
P_Colore_esternoBianco = 0.28571428571428;
P_Colore_esternoRosso = 0.03571428571428;
P_Colore_esternoLilla = 0;
P_Colore_esternoArancione = 0;
P_Colore_esternoVerde = 0.03571428571428;
P_Colore_esternoMarrone = 0;
P_Colore_esternoGiallo = 0.00892857142857;
P_Colore_esternoOro = 0;
P_Colore_esternoBeige = 0;
P_Colore_esternoBronzo = 0;
Q_Colore_esternoNero = 0.13392857142857;
Q_Colore_esternoBlu_Azzurro = 0.125;
Q_Colore_esternoGrigio = 0.29464285714285;
Q_Colore_esternoArgento = 0.08035714285714;
Q_Colore_esternoBianco = 0.28571428571428;
Q_Colore_esternoRosso = 0.03571428571428;
Q_Colore_esternoLilla = 0;
Q_Colore_esternoArancione = 0;
Q_Colore_esternoVerde = 0.03571428571428;
Q_Colore_esternoMarrone = 0;
Q_Colore_esternoGiallo = 0.00892857142857;
Q_Colore_esternoOro = 0;
Q_Colore_esternoBeige = 0;
Q_Colore_esternoBronzo = 0;
I_Colore_esterno = 'GRIGIO';
U_Colore_esterno = 'Grigio';
END;
END;
ELSE DO;
P_Colore_esternoNero = 0.15426497277676;
P_Colore_esternoBlu_Azzurro = 0.08227465214761;
P_Colore_esternoGrigio = 0.25650332728372;
P_Colore_esternoArgento = 0.04174228675136;
P_Colore_esternoBianco = 0.37931034482758;
P_Colore_esternoRosso = 0.04295220810647;
P_Colore_esternoLilla = 0.00060496067755;
P_Colore_esternoArancione = 0.00483968542044;
P_Colore_esternoVerde = 0.01451905626134;
P_Colore_esternoMarrone = 0.00907441016333;
P_Colore_esternoGiallo = 0.00423472474289;
P_Colore_esternoOro = 0.00120992135511;
P_Colore_esternoBeige = 0.00665456745311;
P_Colore_esternoBronzo = 0.00181488203266;
Q_Colore_esternoNero = 0.15426497277676;
Q_Colore_esternoBlu_Azzurro = 0.08227465214761;
Q_Colore_esternoGrigio = 0.25650332728372;
Q_Colore_esternoArgento = 0.04174228675136;
Q_Colore_esternoBianco = 0.37931034482758;
Q_Colore_esternoRosso = 0.04295220810647;
Q_Colore_esternoLilla = 0.00060496067755;
Q_Colore_esternoArancione = 0.00483968542044;
Q_Colore_esternoVerde = 0.01451905626134;
Q_Colore_esternoMarrone = 0.00907441016333;
Q_Colore_esternoGiallo = 0.00423472474289;
Q_Colore_esternoOro = 0.00120992135511;
Q_Colore_esternoBeige = 0.00665456745311;
Q_Colore_esternoBronzo = 0.00181488203266;
I_Colore_esterno = 'BIANCO';
U_Colore_esterno = 'Bianco';
END;
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Colore_esterno;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Colore_esterno);
if _format200="VERDE" then IMP_Colore_esterno = "Verde      ";
else
if _format200="ROSSO" then IMP_Colore_esterno = "Rosso      ";
else
if _format200="ORO" then IMP_Colore_esterno = "Oro        ";
else
if _format200="NERO" then IMP_Colore_esterno = "Nero       ";
else
if _format200="MARRONE" then IMP_Colore_esterno = "Marrone    ";
else
if _format200="LILLA" then IMP_Colore_esterno = "Lilla      ";
else
if _format200="GRIGIO" then IMP_Colore_esterno = "Grigio     ";
else
if _format200="GIALLO" then IMP_Colore_esterno = "Giallo     ";
else
if _format200="BRONZO" then IMP_Colore_esterno = "Bronzo     ";
else
if _format200="BLU/AZZURRO" then IMP_Colore_esterno = "Blu/Azzurro";
else
if _format200="BIANCO" then IMP_Colore_esterno = "Bianco     ";
else
if _format200="BEIGE" then IMP_Colore_esterno = "Beige      ";
else
if _format200="ARGENTO" then IMP_Colore_esterno = "Argento    ";
else
if _format200="ARANCIONE" then IMP_Colore_esterno = "Arancione  ";
END;
*;
* IMPUTE VARIABLE: Marce;
*;
length IMP_Marce 8;
format IMP_Marce BEST.;
label IMP_Marce = 'Imputed: Marce';
IMP_Marce = Marce;
if missing(IMP_Marce) then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Marce $ 12;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Marce1 = 'Previsto: Marce=1';
label P_Marce5 = 'Previsto: Marce=5';
label P_Marce6 = 'Previsto: Marce=6';
label P_Marce7 = 'Previsto: Marce=7';
label P_Marce8 = 'Previsto: Marce=8';
label P_Marce4 = 'Previsto: Marce=4';
label P_Marce9 = 'Previsto: Marce=9';
label Q_Marce1 = 'P non corretto: Marce=1';
label Q_Marce5 = 'P non corretto: Marce=5';
label Q_Marce6 = 'P non corretto: Marce=6';
label Q_Marce7 = 'P non corretto: Marce=7';
label Q_Marce8 = 'P non corretto: Marce=8';
label Q_Marce4 = 'P non corretto: Marce=4';
label Q_Marce9 = 'P non corretto: Marce=9';
label I_Marce = 'In: Marce';
label U_Marce = 'Non normalizzata in: Marce';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_14 $ 14;
DROP _ARBFMT_14;
_ARBFMT_14 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'ELETTRICA/BENZINA' ,'METANO' ,
'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Marce1 = 0.86046511627906;
P_Marce5 = 0.02325581395348;
P_Marce6 = 0.02325581395348;
P_Marce7 = 0.02325581395348;
P_Marce8 = 0.06976744186046;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0.86046511627906;
Q_Marce5 = 0.02325581395348;
Q_Marce6 = 0.02325581395348;
Q_Marce7 = 0.02325581395348;
Q_Marce8 = 0.06976744186046;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '1';
U_Marce = 1;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_14 = PUT( Tipo_di_cambio , $14.);
%DMNORMIP( _ARBFMT_14);
IF _ARBFMT_14 IN ('AUTOMATICO' ,'SEMIAUTOMATICO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_14 IN ('MANUALE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 27494.5 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 27494.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'Q3' ,'KONA' ,'A4' ,'GRANDLAND X' ,'Q5' ,
'X1' ,'C-HR' ,'X3' ,'PASSAT VARIANT' ,'508' ,'520' ,'A6' ,'CAYENNE' ,
'GOLF' ,'A5' ,'A3' ,'POLO' ,'CLA 200' ,'STELVIO' ,'ATECA' ,'WRANGLER' ,
'Q2' ,'TIGUAN' ,'OCTAVIA' ,'TALISMAN' ,'FOCUS' ,'308' ,'PASSAT' ,'318' ,
'SCALA' ,'GIULIA' ,'E-PACE' ,'118' ,'B 180' ,'218' ,'216' ,'TOURAN' ,
'420' ,'C 220' ,'COOPER D COUNTRYMAN' ,'CHEROKEE' ,'INSIGNIA' ,
'COOPER D CLUBMAN' ,'A4 ALLROAD' ,'320' ,'730' ,'ESPACE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('DS 3 CROSSBACK' ,'208' ,'CORSA' ,'PARTNER' ,
'KANGOO' ,'NEW PANDA' ,'500' ,'PANDA' ,'YPSILON' ,'TWINGO' ,'DUSTER' ,
'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,'COMPASS' ,'STONIC' ,
'SPORTAGE' ,'CROSSLAND X' ,'TIPO' ,'CLIO' ,'SANDERO' ,'GIULIETTA' ,
'FIESTA' ,'C3' ,'VITARA' ,'500L' ,'500C' ,'PUMA' ,'CX-30' ,'3008' ,
'LEON' ,'UP!' ,'T-ROC' ,'ARONA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,
'X-TRAIL' ,'T-CROSS' ,'MEGANE' ,'ASTRA' ,'GOLF VARIANT' ,'C4 CACTUS' ,
'IBIZA' ,'COMBO' ,'TUCSON' ,'GRAND C4 SPACETOURER' ,'SCENIC' ,'DOBLO' ,
'CADDY' ,'FIORINO' ,'L200' ,'C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
IF NOT MISSING(REP_price ) AND
43445 <= REP_price THEN DO;
P_Marce1 = 0;
P_Marce5 = 0;
P_Marce6 = 0.375;
P_Marce7 = 0;
P_Marce8 = 0.625;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0;
Q_Marce6 = 0.375;
Q_Marce7 = 0;
Q_Marce8 = 0.625;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '8';
U_Marce = 8;
END;
ELSE DO;
_ARBFMT_14 = PUT( Tipo_di_cambio , $14.);
%DMNORMIP( _ARBFMT_14);
IF _ARBFMT_14 IN ('MANUALE' ) THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 12882.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
12882.5 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('NEW PANDA' ,'PANDA' ,'YPSILON' ,'TWINGO' ,
'SANDERO' ,'UP!' ,'FIORINO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('FORTWO' ,'KONA' ,'208' ,'CORSA' ,
'PARTNER' ,'KANGOO' ,'500' ,'DUSTER' ,'500X' ,'CAPTUR' ,'TIVOLI' ,
'RENEGADE' ,'COMPASS' ,'STONIC' ,'SPORTAGE' ,'GRANDLAND X' ,
'CROSSLAND X' ,'TIPO' ,'CLIO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,
'VITARA' ,'500L' ,'500C' ,'PUMA' ,'CX-30' ,'LEON' ,'GOLF' ,'A3' ,
'POLO' ,'T-ROC' ,'ARONA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,
'X-TRAIL' ,'T-CROSS' ,'Q2' ,'MEGANE' ,'ASTRA' ,'GOLF VARIANT' ,
'308' ,'C4 CACTUS' ,'IBIZA' ,'SCALA' ,'COMBO' ,'TUCSON' ,
'GRAND C4 SPACETOURER' ,'SCENIC' ,'DOBLO' ,'CADDY' ,'218' ) THEN
DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Anno ) THEN DO;
IF REP_Anno < 2015.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 2015.5 <= REP_Anno THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA/BENZINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'METANO' ,'GPL' )
THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale )
THEN DO;
IF REP_Consumo_Carburante_Totale
< 4.15 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 4.15 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Cilindri ) THEN DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('4' ,'1' ,'2' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Marce1 = 0;
P_Marce5 = 0.04651162790697;
P_Marce6 = 0.95348837209302;
P_Marce7 = 0;
P_Marce8 = 0;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0.04651162790697;
Q_Marce6 = 0.95348837209302;
Q_Marce7 = 0;
Q_Marce8 = 0;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '6';
U_Marce = 6;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 0.90989010989011;
P_Marce6 = 0.09010989010989;
P_Marce7 = 0;
P_Marce8 = 0;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0.90989010989011;
Q_Marce6 = 0.09010989010989;
Q_Marce7 = 0;
Q_Marce8 = 0;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '5';
U_Marce = 5;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'ELETTRICA/BENZINA' ) THEN
DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('METANO' ,'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'KONA' ,'208' ,'CORSA' ,'PARTNER' ,
'KANGOO' ,'500' ,'PANDA' ,'500X' ,'CAPTUR' ,'RENEGADE' ,
'COMPASS' ,'GRANDLAND X' ,'CROSSLAND X' ,'TIPO' ,'CLIO' ,
'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,'VITARA' ,'500L' ,
'500C' ,'PUMA' ,'CX-30' ,'LEON' ,'GOLF' ,'A3' ,'POLO' ,'T-ROC' ,
'ARONA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,'X-TRAIL' ,'T-CROSS' ,
'Q2' ,'MEGANE' ,'ASTRA' ,'GOLF VARIANT' ,'308' ,'C4 CACTUS' ,
'COMBO' ,'TUCSON' ,'GRAND C4 SPACETOURER' ,'SCENIC' ,'DOBLO' ,
'CADDY' ,'218' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('YPSILON' ,'DUSTER' ,'TIVOLI' ,'STONIC' ,
'SPORTAGE' ,'UP!' ,'IBIZA' ,'SCALA' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Marce1 = 0;
P_Marce5 = 0.5752688172043;
P_Marce6 = 0.42204301075268;
P_Marce7 = 0.00268817204301;
P_Marce8 = 0;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0.5752688172043;
Q_Marce6 = 0.42204301075268;
Q_Marce7 = 0.00268817204301;
Q_Marce8 = 0;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '5';
U_Marce = 5;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 0.15189873417721;
P_Marce6 = 0.84388185654008;
P_Marce7 = 0.0014064697609;
P_Marce8 = 0.00093764650726;
P_Marce4 = 0;
P_Marce9 = 0.00187529301453;
Q_Marce1 = 0;
Q_Marce5 = 0.15189873417721;
Q_Marce6 = 0.84388185654008;
Q_Marce7 = 0.0014064697609;
Q_Marce8 = 0.00093764650726;
Q_Marce4 = 0;
Q_Marce9 = 0.00187529301453;
I_Marce = '6';
U_Marce = 6;
END;
END;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 0.25;
P_Marce6 = 0.2;
P_Marce7 = 0.55;
P_Marce8 = 0;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0.25;
Q_Marce6 = 0.2;
Q_Marce7 = 0.55;
Q_Marce8 = 0;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '7';
U_Marce = 7;
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 15695 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
15695 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Per_neopatentati ) THEN DO;
_ARBFMT_12 = PUT( Per_neopatentati , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'434F5550C383C2A9'x ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'ALTRO' ,'MONOVOLUME' )
THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1120.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
1120.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('500' ,'500C' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Emissioni_di_CO2 ) THEN DO;
IF REP_Emissioni_di_CO2 < 112 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 112 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Marce1 = 0;
P_Marce5 = 0;
P_Marce6 = 1;
P_Marce7 = 0;
P_Marce8 = 0;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0;
Q_Marce6 = 1;
Q_Marce7 = 0;
Q_Marce8 = 0;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '6';
U_Marce = 6;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 1;
P_Marce6 = 0;
P_Marce7 = 0;
P_Marce8 = 0;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 1;
Q_Marce6 = 0;
Q_Marce7 = 0;
Q_Marce8 = 0;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '5';
U_Marce = 5;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'500X' ,'TIVOLI' ,'X3' ,'508' ,'CAYENNE' ,
'STELVIO' ,'GIULIA' ,'C 220' ,'CHEROKEE' ,'730' ,'ESPACE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'A4' ,'CLIO' ,'Q5' ,'LEON' ,'GOLF' ,
'A5' ,'T-ROC' ,'ATECA' ,'QASHQAI' ,'Q2' ,'OCTAVIA' ,'PASSAT' ,
'SCALA' ,'SCENIC' ,'B 180' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Tipo_di_unita ) THEN DO;
_ARBFMT_10 = PUT( Tipo_di_unita , $10.);
%DMNORMIP( _ARBFMT_10);
IF _ARBFMT_10 IN ('POSTERIORE' ,'4X4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_10 IN ('ANTERIORE' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'GPL' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('ELETTRICA/BENZINA' ,'METANO' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('Q3' ,'A4' ,'Q5' ,'PASSAT VARIANT' ,'A6' ,'LEON' ,
'GOLF' ,'A5' ,'A3' ,'T-ROC' ,'ATECA' ,'QASHQAI' ,'Q2' ,'OCTAVIA' ,
'PASSAT' ,'SCALA' ,'SCENIC' ,'B 180' ,'216' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('KONA' ,'RENEGADE' ,'COMPASS' ,
'GRANDLAND X' ,'CLIO' ,'C-HR' ,'CLA 200' ,'TALISMAN' ,'TOURAN' )
THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'434F5550C383C2A9'x ,
'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('SUV/FUORISTRADA/PICK-UP' ,'ALTRO' ) THEN
DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('POLO' ,'MEGANE' ,'ASTRA' ,'308' ,'218' ,
'INSIGNIA' ,'COOPER D CLUBMAN' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'A4' ,'Q5' ,'PASSAT VARIANT' ,'A6' ,
'LEON' ,'GOLF' ,'A5' ,'A3' ,'T-ROC' ,'ATECA' ,'QASHQAI' ,'Q2' ,
'OCTAVIA' ,'PASSAT' ,'SCALA' ,'SCENIC' ,'B 180' ,'216' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1989.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1989.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 20925 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 20925 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Marce1 = 0.00479616306954;
P_Marce5 = 0.00479616306954;
P_Marce6 = 0.06235011990407;
P_Marce7 = 0.8872901678657;
P_Marce8 = 0.04076738609112;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0.00479616306954;
Q_Marce5 = 0.00479616306954;
Q_Marce6 = 0.06235011990407;
Q_Marce7 = 0.8872901678657;
Q_Marce8 = 0.04076738609112;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '7';
U_Marce = 7;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 0.03030303030303;
P_Marce6 = 0.35353535353535;
P_Marce7 = 0.28282828282828;
P_Marce8 = 0.29292929292929;
P_Marce4 = 0;
P_Marce9 = 0.04040404040404;
Q_Marce1 = 0;
Q_Marce5 = 0.03030303030303;
Q_Marce6 = 0.35353535353535;
Q_Marce7 = 0.28282828282828;
Q_Marce8 = 0.29292929292929;
Q_Marce4 = 0;
Q_Marce9 = 0.04040404040404;
I_Marce = '6';
U_Marce = 6;
END;
END;
ELSE DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('C-HR' ) THEN DO;
P_Marce1 = 0.8;
P_Marce5 = 0;
P_Marce6 = 0;
P_Marce7 = 0;
P_Marce8 = 0.2;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0.8;
Q_Marce5 = 0;
Q_Marce6 = 0;
Q_Marce7 = 0;
Q_Marce8 = 0.2;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '1';
U_Marce = 1;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 0.01176470588235;
P_Marce6 = 0.60588235294117;
P_Marce7 = 0.23529411764705;
P_Marce8 = 0.10588235294117;
P_Marce4 = 0.04117647058823;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0.01176470588235;
Q_Marce6 = 0.60588235294117;
Q_Marce7 = 0.23529411764705;
Q_Marce8 = 0.10588235294117;
Q_Marce4 = 0.04117647058823;
Q_Marce9 = 0;
I_Marce = '6';
U_Marce = 6;
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('GRANDLAND X' ,'X3' ,'508' ,'520' ,'CAYENNE' ,
'STELVIO' ,'TIGUAN' ,'318' ,'GIULIA' ,'218' ,'420' ,'320' ,'730' )
THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('FORTWO' ,'500X' ,'TIVOLI' ,'RENEGADE' ,
'COMPASS' ,'X1' ,'E-PACE' ,'C 220' ,'CHEROKEE' ,'ESPACE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1962 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1962 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 31495 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 31495 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('RENEGADE' ,'COMPASS' ,'E-PACE' ,'C 220' ,
'CHEROKEE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('FORTWO' ,'500X' ,'TIVOLI' ,'X1' ,
'ESPACE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 23875 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 23875 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1774 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1774 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Marce1 = 0;
P_Marce5 = 0;
P_Marce6 = 0.93243243243243;
P_Marce7 = 0.05405405405405;
P_Marce8 = 0.01351351351351;
P_Marce4 = 0;
P_Marce9 = 0;
Q_Marce1 = 0;
Q_Marce5 = 0;
Q_Marce6 = 0.93243243243243;
Q_Marce7 = 0.05405405405405;
Q_Marce8 = 0.01351351351351;
Q_Marce4 = 0;
Q_Marce9 = 0;
I_Marce = '6';
U_Marce = 6;
END;
ELSE DO;
P_Marce1 = 0;
P_Marce5 = 0;
P_Marce6 = 0.1639344262295;
P_Marce7 = 0.0655737704918;
P_Marce8 = 0.08196721311475;
P_Marce4 = 0;
P_Marce9 = 0.68852459016393;
Q_Marce1 = 0;
Q_Marce5 = 0;
Q_Marce6 = 0.1639344262295;
Q_Marce7 = 0.0655737704918;
Q_Marce8 = 0.08196721311475;
Q_Marce4 = 0;
Q_Marce9 = 0.68852459016393;
I_Marce = '9';
U_Marce = 9;
END;
END;
ELSE DO;
P_Marce1 = 0.01736111111111;
P_Marce5 = 0.00694444444444;
P_Marce6 = 0.09027777777777;
P_Marce7 = 0.08680555555555;
P_Marce8 = 0.77777777777777;
P_Marce4 = 0;
P_Marce9 = 0.02083333333333;
Q_Marce1 = 0.01736111111111;
Q_Marce5 = 0.00694444444444;
Q_Marce6 = 0.09027777777777;
Q_Marce7 = 0.08680555555555;
Q_Marce8 = 0.77777777777777;
Q_Marce4 = 0;
Q_Marce9 = 0.02083333333333;
I_Marce = '8';
U_Marce = 8;
END;
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Marce;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Marce);
if _format200="9" then IMP_Marce = 9;
else
if _format200="8" then IMP_Marce = 8;
else
if _format200="7" then IMP_Marce = 7;
else
if _format200="6" then IMP_Marce = 6;
else
if _format200="5" then IMP_Marce = 5;
else
if _format200="4" then IMP_Marce = 4;
else
if _format200="1" then IMP_Marce = 1;
END;
*;
* IMPUTE VARIABLE: Porte;
*;
length IMP_Porte 8;
format IMP_Porte BEST.;
label IMP_Porte = 'Imputed: Porte';
IMP_Porte = Porte;
if missing(IMP_Porte) then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Porte $ 12;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Porte5 = 'Previsto: Porte=5';
label P_Porte3 = 'Previsto: Porte=3';
label Q_Porte5 = 'P non corretto: Porte=5';
label Q_Porte3 = 'P non corretto: Porte=3';
label I_Porte = 'In: Porte';
label U_Porte = 'Non normalizzata in: Porte';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_14 $ 14;
DROP _ARBFMT_14;
_ARBFMT_14 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'500' ,'500C' ,'420' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'KONA' ,'E-TRON' ,'DS 3 CROSSBACK' ,'A4' ,
'LEAF' ,'208' ,'CORSA' ,'PARTNER' ,'KANGOO' ,'NEW PANDA' ,'PANDA' ,
'YPSILON' ,'TWINGO' ,'DUSTER' ,'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,
'COMPASS' ,'STONIC' ,'SPORTAGE' ,'GRANDLAND X' ,'OUTLANDER' ,'CROSSLAND X' ,
'TIPO' ,'CLIO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,'VITARA' ,'500L' ,
'Q5' ,'PUMA' ,'NX 300' ,'UX 250H' ,'X1' ,'C-HR' ,'CX-30' ,'3008' ,'X3' ,
'PASSAT VARIANT' ,'508' ,'520' ,'A6' ,'LEON' ,'COROLLA' ,'CAYENNE' ,'GOLF' ,
'YARIS' ,'A5' ,'A3' ,'UP!' ,'POLO' ,'T-ROC' ,'CLA 200' ,'ARONA' ,'STELVIO' ,
'ATECA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,'X-TRAIL' ,'WRANGLER' ,'T-CROSS' ,
'Q2' ,'TIGUAN' ,'OCTAVIA' ,'MEGANE' ,'TALISMAN' ,'ASTRA' ,'FOCUS' ,
'GOLF VARIANT' ,'308' ,'PASSAT' ,'318' ,'C4 CACTUS' ,'IBIZA' ,'SCALA' ,
'GIULIA' ,'E-PACE' ,'COMBO' ,'118' ,'TUCSON' ,'GRAND C4 SPACETOURER' ,
'SCENIC' ,'DOBLO' ,'CADDY' ,'B 180' ,'218' ,'216' ,'TOURAN' ,'FIORINO' ,
'C 220' ,'L200' ,'COOPER D COUNTRYMAN' ,'CHEROKEE' ,'INSIGNIA' ,
'COOPER D CLUBMAN' ,'A4 ALLROAD' ,'320' ,'730' ,'ESPACE' ,'C4 SPACETOURER' )
THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'CABRIO' ,'434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('BERLINA' ,'ALTRO' ,'SUV/FUORISTRADA/PICK-UP' ,
'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Posti_a_sedere ) THEN DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ,'2' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('5' ,'3' ,'7' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
P_Porte5 = 0.93333333333333;
P_Porte3 = 0.06666666666666;
Q_Porte5 = 0.93333333333333;
Q_Porte3 = 0.06666666666666;
I_Porte = '5';
U_Porte = 5;
END;
ELSE DO;
IF NOT MISSING(REP_Cilindrata ) THEN DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Classe_emissioni , $12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('EURO 6' ,'EURO 6D-TEMP' ,'EURO 6D' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 437.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 437.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'ELETTRICA/BENZINA' ,
'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_ARBFMT_12 = PUT( Classe_emissioni , $12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('EURO 6' ,'EURO 6D-TEMP' ,'EURO 6D' ) THEN DO;
P_Porte5 = 0;
P_Porte3 = 1;
Q_Porte5 = 0;
Q_Porte3 = 1;
I_Porte = '3';
U_Porte = 3;
END;
ELSE DO;
IF NOT MISSING(REP_price ) AND
REP_price < 12115 THEN DO;
P_Porte5 = 0.6;
P_Porte3 = 0.4;
Q_Porte5 = 0.6;
Q_Porte3 = 0.4;
I_Porte = '5';
U_Porte = 5;
END;
ELSE DO;
P_Porte5 = 0;
P_Porte3 = 1;
Q_Porte5 = 0;
Q_Porte3 = 1;
I_Porte = '3';
U_Porte = 3;
END;
END;
END;
ELSE DO;
P_Porte5 = 0.16666666666666;
P_Porte3 = 0.83333333333333;
Q_Porte5 = 0.16666666666666;
Q_Porte3 = 0.83333333333333;
I_Porte = '3';
U_Porte = 3;
END;
END;
ELSE DO;
P_Porte5 = 0.42857142857142;
P_Porte3 = 0.57142857142857;
Q_Porte5 = 0.42857142857142;
Q_Porte3 = 0.57142857142857;
I_Porte = '3';
U_Porte = 3;
END;
END;
END;
ELSE DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CABRIO' ,'434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('4' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 19625 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 19625 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN DO;
IF 6.8 <= REP_Consumo_Carburante_Totale THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Consumo_Carburante_Totale < 6.8 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Porte5 = 0.75;
P_Porte3 = 0.25;
Q_Porte5 = 0.75;
Q_Porte3 = 0.25;
I_Porte = '5';
U_Porte = 5;
END;
ELSE DO;
P_Porte5 = 0.02564102564102;
P_Porte3 = 0.97435897435897;
Q_Porte5 = 0.02564102564102;
Q_Porte3 = 0.97435897435897;
I_Porte = '3';
U_Porte = 3;
END;
END;
ELSE DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('2' ,'3' ) THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1308 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
1308 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Per_neopatentati ) THEN DO;
_ARBFMT_12 = PUT( Per_neopatentati , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Tipo_di_cambio ) THEN DO;
_ARBFMT_14 = PUT( Tipo_di_cambio , $14.);
%DMNORMIP( _ARBFMT_14);
IF _ARBFMT_14 IN ('AUTOMATICO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_14 IN ('MANUALE' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 168.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
168.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN
DO;
IF REP_Consumo_Carburante_Totale < 6.95 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 6.95 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1996.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1996.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Porte5 = 0.95348837209302;
P_Porte3 = 0.04651162790697;
Q_Porte5 = 0.95348837209302;
Q_Porte3 = 0.04651162790697;
I_Porte = '5';
U_Porte = 5;
END;
ELSE DO;
P_Porte5 = 0.125;
P_Porte3 = 0.875;
Q_Porte5 = 0.125;
Q_Porte3 = 0.875;
I_Porte = '3';
U_Porte = 3;
END;
END;
ELSE DO;
P_Porte5 = 0.36842105263157;
P_Porte3 = 0.63157894736842;
Q_Porte5 = 0.36842105263157;
Q_Porte3 = 0.63157894736842;
I_Porte = '3';
U_Porte = 3;
END;
END;
ELSE DO;
P_Porte5 = 0.99724441995039;
P_Porte3 = 0.0027555800496;
Q_Porte5 = 0.99724441995039;
Q_Porte3 = 0.0027555800496;
I_Porte = '5';
U_Porte = 5;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Porte;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Porte);
if _format200="5" then IMP_Porte = 5;
else
if _format200="3" then IMP_Porte = 3;
END;
*;
* IMPUTE VARIABLE: Posti_a_sedere;
*;
length IMP_Posti_a_sedere 8;
label IMP_Posti_a_sedere = 'Imputed Posti_a_sedere';
IMP_Posti_a_sedere = Posti_a_sedere;
if missing(IMP_Posti_a_sedere) then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Posti_a_sedere $ 12;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Posti_a_sedere4 = 'Previsto: Posti_a_sedere=4';
label P_Posti_a_sedere2 = 'Previsto: Posti_a_sedere=2';
label P_Posti_a_sedere5 = 'Previsto: Posti_a_sedere=5';
label P_Posti_a_sedere3 = 'Previsto: Posti_a_sedere=3';
label P_Posti_a_sedere7 = 'Previsto: Posti_a_sedere=7';
label P_Posti_a_sedere6 = 'Previsto: Posti_a_sedere=6';
label P_Posti_a_sedere9 = 'Previsto: Posti_a_sedere=9';
label P_Posti_a_sedere8 = 'Previsto: Posti_a_sedere=8';
label Q_Posti_a_sedere4 = 'P non corretto: Posti_a_sedere=4';
label Q_Posti_a_sedere2 = 'P non corretto: Posti_a_sedere=2';
label Q_Posti_a_sedere5 = 'P non corretto: Posti_a_sedere=5';
label Q_Posti_a_sedere3 = 'P non corretto: Posti_a_sedere=3';
label Q_Posti_a_sedere7 = 'P non corretto: Posti_a_sedere=7';
label Q_Posti_a_sedere6 = 'P non corretto: Posti_a_sedere=6';
label Q_Posti_a_sedere9 = 'P non corretto: Posti_a_sedere=9';
label Q_Posti_a_sedere8 = 'P non corretto: Posti_a_sedere=8';
label I_Posti_a_sedere = 'In: Posti_a_sedere';
label U_Posti_a_sedere = 'Non normalizzata in: Posti_a_sedere';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('Q3' ,'KONA' ,'E-TRON' ,'DS 3 CROSSBACK' ,'A4' ,'LEAF' ,
'208' ,'CORSA' ,'PARTNER' ,'KANGOO' ,'NEW PANDA' ,'PANDA' ,'YPSILON' ,
'TWINGO' ,'DUSTER' ,'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,'COMPASS' ,
'STONIC' ,'SPORTAGE' ,'GRANDLAND X' ,'OUTLANDER' ,'CROSSLAND X' ,'TIPO' ,
'CLIO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,'VITARA' ,'500L' ,'Q5' ,
'PUMA' ,'NX 300' ,'UX 250H' ,'X1' ,'C-HR' ,'CX-30' ,'3008' ,'X3' ,
'PASSAT VARIANT' ,'508' ,'520' ,'A6' ,'LEON' ,'COROLLA' ,'CAYENNE' ,
'GOLF' ,'YARIS' ,'A5' ,'A3' ,'UP!' ,'POLO' ,'T-ROC' ,'CLA 200' ,'ARONA' ,
'STELVIO' ,'ATECA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,'X-TRAIL' ,'WRANGLER' ,
'T-CROSS' ,'Q2' ,'TIGUAN' ,'OCTAVIA' ,'MEGANE' ,'TALISMAN' ,'ASTRA' ,
'FOCUS' ,'GOLF VARIANT' ,'308' ,'PASSAT' ,'318' ,'C4 CACTUS' ,'IBIZA' ,
'SCALA' ,'GIULIA' ,'E-PACE' ,'COMBO' ,'118' ,'TUCSON' ,
'GRAND C4 SPACETOURER' ,'SCENIC' ,'DOBLO' ,'CADDY' ,'B 180' ,'218' ,
'216' ,'TOURAN' ,'FIORINO' ,'C 220' ,'L200' ,'COOPER D COUNTRYMAN' ,
'CHEROKEE' ,'INSIGNIA' ,'COOPER D CLUBMAN' ,'A4 ALLROAD' ,'320' ,'730' ,
'ESPACE' ,'C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('FORTWO' ,'500' ,'500C' ,'420' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('BERLINA' ,'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,
'ALTRO' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('CITY CAR' ,'CABRIO' ,'434F5550C383C2A9'x ) THEN
DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('500' ,'500C' ,'A5' ,'T-ROC' ,'218' ,'420' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('FORTWO' ,'DOBLO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 948.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 948.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ,'CABRIO' ,'ALTRO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
IF NOT MISSING(REP_price ) AND
22400 <= REP_price THEN DO;
P_Posti_a_sedere4 = 0.6;
P_Posti_a_sedere2 = 0.2;
P_Posti_a_sedere5 = 0;
P_Posti_a_sedere3 = 0.2;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.6;
Q_Posti_a_sedere2 = 0.2;
Q_Posti_a_sedere5 = 0;
Q_Posti_a_sedere3 = 0.2;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '4';
U_Posti_a_sedere = 4;
END;
ELSE DO;
P_Posti_a_sedere4 = 0;
P_Posti_a_sedere2 = 1;
P_Posti_a_sedere5 = 0;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0;
Q_Posti_a_sedere2 = 1;
Q_Posti_a_sedere5 = 0;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '2';
U_Posti_a_sedere = 2;
END;
END;
ELSE DO;
P_Posti_a_sedere4 = 0.97809278350515;
P_Posti_a_sedere2 = 0.00386597938144;
P_Posti_a_sedere5 = 0.00386597938144;
P_Posti_a_sedere3 = 0.0090206185567;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0.00515463917525;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.97809278350515;
Q_Posti_a_sedere2 = 0.00386597938144;
Q_Posti_a_sedere5 = 0.00386597938144;
Q_Posti_a_sedere3 = 0.0090206185567;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0.00515463917525;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '4';
U_Posti_a_sedere = 4;
END;
END;
ELSE DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('PARTNER' ) THEN DO;
P_Posti_a_sedere4 = 0;
P_Posti_a_sedere2 = 0;
P_Posti_a_sedere5 = 0;
P_Posti_a_sedere3 = 1;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0;
Q_Posti_a_sedere2 = 0;
Q_Posti_a_sedere5 = 0;
Q_Posti_a_sedere3 = 1;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '3';
U_Posti_a_sedere = 3;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 12720 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
12720 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Anno ) THEN DO;
IF REP_Anno < 2015.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 2015.5 <= REP_Anno THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('STATION WAGON' ,'MONOVOLUME' ) THEN DO;
P_Posti_a_sedere4 = 0;
P_Posti_a_sedere2 = 0.58823529411764;
P_Posti_a_sedere5 = 0.41176470588235;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0;
Q_Posti_a_sedere2 = 0.58823529411764;
Q_Posti_a_sedere5 = 0.41176470588235;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '2';
U_Posti_a_sedere = 2;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('NEW PANDA' ,'PANDA' ,'TWINGO' ,'UP!' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('YPSILON' ,'TIPO' ,'CLIO' ,'SANDERO' ) THEN
DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1305 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1305 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 11925 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 11925 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Posti_a_sedere4 = 0.88532110091743;
P_Posti_a_sedere2 = 0;
P_Posti_a_sedere5 = 0.11467889908256;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.88532110091743;
Q_Posti_a_sedere2 = 0;
Q_Posti_a_sedere5 = 0.11467889908256;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '4';
U_Posti_a_sedere = 4;
END;
ELSE DO;
P_Posti_a_sedere4 = 0.24647887323943;
P_Posti_a_sedere2 = 0;
P_Posti_a_sedere5 = 0.75352112676056;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.24647887323943;
Q_Posti_a_sedere2 = 0;
Q_Posti_a_sedere5 = 0.75352112676056;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '5';
U_Posti_a_sedere = 5;
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'3' ,'4' ,'6' ,'8' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 886.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 886.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Posti_a_sedere4 = 0.83529411764705;
P_Posti_a_sedere2 = 0;
P_Posti_a_sedere5 = 0.16470588235294;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.83529411764705;
Q_Posti_a_sedere2 = 0;
Q_Posti_a_sedere5 = 0.16470588235294;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '4';
U_Posti_a_sedere = 4;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1080 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Peso_a_vuoto ) AND
1080 <= REP_Peso_a_vuoto THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 13495 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 13495 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('METANO' ) THEN DO;
P_Posti_a_sedere4 = 0.75;
P_Posti_a_sedere2 = 0.25;
P_Posti_a_sedere5 = 0;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.75;
Q_Posti_a_sedere2 = 0.25;
Q_Posti_a_sedere5 = 0;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '4';
U_Posti_a_sedere = 4;
END;
ELSE DO;
P_Posti_a_sedere4 = 0.16666666666666;
P_Posti_a_sedere2 = 0;
P_Posti_a_sedere5 = 0.83333333333333;
P_Posti_a_sedere3 = 0;
P_Posti_a_sedere7 = 0;
P_Posti_a_sedere6 = 0;
P_Posti_a_sedere9 = 0;
P_Posti_a_sedere8 = 0;
Q_Posti_a_sedere4 = 0.16666666666666;
Q_Posti_a_sedere2 = 0;
Q_Posti_a_sedere5 = 0.83333333333333;
Q_Posti_a_sedere3 = 0;
Q_Posti_a_sedere7 = 0;
Q_Posti_a_sedere6 = 0;
Q_Posti_a_sedere9 = 0;
Q_Posti_a_sedere8 = 0;
I_Posti_a_sedere = '5';
U_Posti_a_sedere = 5;
END;
END;
ELSE DO;
P_Posti_a_sedere4 = 0.00645786244752;
P_Posti_a_sedere2 = 0.00613496932515;
P_Posti_a_sedere5 = 0.96577332902809;
P_Posti_a_sedere3 = 0.00355182434614;
P_Posti_a_sedere7 = 0.01485308362931;
P_Posti_a_sedere6 = 0.00064578624475;
P_Posti_a_sedere9 = 0.0012915724895;
P_Posti_a_sedere8 = 0.0012915724895;
Q_Posti_a_sedere4 = 0.00645786244752;
Q_Posti_a_sedere2 = 0.00613496932515;
Q_Posti_a_sedere5 = 0.96577332902809;
Q_Posti_a_sedere3 = 0.00355182434614;
Q_Posti_a_sedere7 = 0.01485308362931;
Q_Posti_a_sedere6 = 0.00064578624475;
Q_Posti_a_sedere9 = 0.0012915724895;
Q_Posti_a_sedere8 = 0.0012915724895;
I_Posti_a_sedere = '5';
U_Posti_a_sedere = 5;
END;
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Posti_a_sedere;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Posti_a_sedere);
if _format200="9" then IMP_Posti_a_sedere = 9;
else
if _format200="8" then IMP_Posti_a_sedere = 8;
else
if _format200="7" then IMP_Posti_a_sedere = 7;
else
if _format200="6" then IMP_Posti_a_sedere = 6;
else
if _format200="5" then IMP_Posti_a_sedere = 5;
else
if _format200="4" then IMP_Posti_a_sedere = 4;
else
if _format200="3" then IMP_Posti_a_sedere = 3;
else
if _format200="2" then IMP_Posti_a_sedere = 2;
END;
*;
* IMPUTE VARIABLE: REP_Tipo_di_vernice;
*;
length IMP_REP_Tipo_di_vernice $12;
label IMP_REP_Tipo_di_vernice = 'Imputed: Replacement: Tipo_di_vernice';
IMP_REP_Tipo_di_vernice = REP_Tipo_di_vernice;
if IMP_REP_Tipo_di_vernice eq '' then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_REP_Tipo_di_vernice $ 12;
LENGTH U_REP_Tipo_di_vernice $ 12;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_REP_Tipo_di_vernicBase = 'Previsto: REP_Tipo_di_vernice=Base';
label P_REP_Tipo_di_vernicMetallizzato =
'Previsto: REP_Tipo_di_vernice=Metallizzato';
label P_REP_Tipo_di_vernicPerlato = 'Previsto: REP_Tipo_di_vernice=Perlato';
label Q_REP_Tipo_di_vernicBase = 'P non corretto: REP_Tipo_di_vernice=Base';
label Q_REP_Tipo_di_vernicMetallizzato =
'P non corretto: REP_Tipo_di_vernice=Metallizzato';
label Q_REP_Tipo_di_vernicPerlato =
'P non corretto: REP_Tipo_di_vernice=Perlato';
label I_REP_Tipo_di_vernice = 'In: REP_Tipo_di_vernice';
label U_REP_Tipo_di_vernice = 'Non normalizzata in: REP_Tipo_di_vernice';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_11 $ 11;
DROP _ARBFMT_11;
_ARBFMT_11 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
_ARBFMT_11 = PUT( Colore_esterno , $11.);
%DMNORMIP( _ARBFMT_11);
IF _ARBFMT_11 IN ('NERO' ,'BLU/AZZURRO' ,'GRIGIO' ,'ARGENTO' ,'VERDE' ,
'MARRONE' ,'BEIGE' ,'BRONZO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_11 IN ('BIANCO' ,'ROSSO' ,'ARANCIONE' ,'GIALLO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 7845 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 7845 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'PARTNER' ,'PANDA' ,'YPSILON' ,'500X' ,
'COMPASS' ,'TIPO' ,'500L' ,'C-HR' ,'COMBO' ,'DOBLO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('A4' ,'CAPTUR' ,'RENEGADE' ,'GRANDLAND X' ,'CLIO' ,
'VITARA' ,'X1' ,'508' ,'GOLF' ,'A5' ,'A3' ,'POLO' ,'ARONA' ,'QASHQAI' ,
'X-TRAIL' ,'OCTAVIA' ,'420' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 19245 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 19245 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1370.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1370.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('C-HR' ) THEN DO;
P_REP_Tipo_di_vernicBase = 0;
P_REP_Tipo_di_vernicMetallizzato = 0.6;
P_REP_Tipo_di_vernicPerlato = 0.4;
Q_REP_Tipo_di_vernicBase = 0;
Q_REP_Tipo_di_vernicMetallizzato = 0.6;
Q_REP_Tipo_di_vernicPerlato = 0.4;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_11 = PUT( Colore_esterno , $11.);
%DMNORMIP( _ARBFMT_11);
IF _ARBFMT_11 IN ('BIANCO' ,'GIALLO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_11 IN ('ROSSO' ,'ARANCIONE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 8800 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 8800 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('PANDA' ,'YPSILON' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('500' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Porte ) THEN DO;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 11600 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 11600 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_REP_Tipo_di_vernicBase = 0.55102040816326;
P_REP_Tipo_di_vernicMetallizzato = 0.44897959183673;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.55102040816326;
Q_REP_Tipo_di_vernicMetallizzato = 0.44897959183673;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'BASE';
U_REP_Tipo_di_vernice = 'Base';
END;
ELSE DO;
P_REP_Tipo_di_vernicBase = 0.41509433962264;
P_REP_Tipo_di_vernicMetallizzato = 0.58490566037735;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.41509433962264;
Q_REP_Tipo_di_vernicMetallizzato = 0.58490566037735;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
END;
ELSE DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
P_REP_Tipo_di_vernicBase = 0;
P_REP_Tipo_di_vernicMetallizzato = 1;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0;
Q_REP_Tipo_di_vernicMetallizzato = 1;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
_ARBFMT_12 = PUT( Tagliandi_certificati , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
P_REP_Tipo_di_vernicBase = 0.27272727272727;
P_REP_Tipo_di_vernicMetallizzato = 0.72727272727272;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.27272727272727;
Q_REP_Tipo_di_vernicMetallizzato = 0.72727272727272;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
P_REP_Tipo_di_vernicBase = 0.83286908077994;
P_REP_Tipo_di_vernicMetallizzato = 0.16434540389972;
P_REP_Tipo_di_vernicPerlato = 0.00278551532033;
Q_REP_Tipo_di_vernicBase = 0.83286908077994;
Q_REP_Tipo_di_vernicMetallizzato = 0.16434540389972;
Q_REP_Tipo_di_vernicPerlato = 0.00278551532033;
I_REP_Tipo_di_vernice = 'BASE';
U_REP_Tipo_di_vernice = 'Base';
END;
END;
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 121.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
121.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN DO;
IF REP_Consumo_Carburante_Totale < 5.35 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 5.35 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1990 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1990 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_REP_Tipo_di_vernicBase = 0.5040650406504;
P_REP_Tipo_di_vernicMetallizzato = 0.49593495934959;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.5040650406504;
Q_REP_Tipo_di_vernicMetallizzato = 0.49593495934959;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'BASE';
U_REP_Tipo_di_vernice = 'Base';
END;
ELSE DO;
P_REP_Tipo_di_vernicBase = 0.245;
P_REP_Tipo_di_vernicMetallizzato = 0.74;
P_REP_Tipo_di_vernicPerlato = 0.015;
Q_REP_Tipo_di_vernicBase = 0.245;
Q_REP_Tipo_di_vernicMetallizzato = 0.74;
Q_REP_Tipo_di_vernicPerlato = 0.015;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('0' ,'3' ,'4' ,'1' ,'6' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 886.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 886.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
IF NOT MISSING(REP_Cilindrata ) AND
2994 <= REP_Cilindrata THEN DO;
P_REP_Tipo_di_vernicBase = 0.1578947368421;
P_REP_Tipo_di_vernicMetallizzato = 0.73684210526315;
P_REP_Tipo_di_vernicPerlato = 0.10526315789473;
Q_REP_Tipo_di_vernicBase = 0.1578947368421;
Q_REP_Tipo_di_vernicMetallizzato = 0.73684210526315;
Q_REP_Tipo_di_vernicPerlato = 0.10526315789473;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
P_REP_Tipo_di_vernicBase = 0.05263157894736;
P_REP_Tipo_di_vernicMetallizzato = 0.84210526315789;
P_REP_Tipo_di_vernicPerlato = 0.10526315789473;
Q_REP_Tipo_di_vernicBase = 0.05263157894736;
Q_REP_Tipo_di_vernicMetallizzato = 0.84210526315789;
Q_REP_Tipo_di_vernicPerlato = 0.10526315789473;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'3' ,'4' ,'1' ,'6' ) THEN DO;
P_REP_Tipo_di_vernicBase = 0.1147455867082;
P_REP_Tipo_di_vernicMetallizzato = 0.88473520249221;
P_REP_Tipo_di_vernicPerlato = 0.00051921079958;
Q_REP_Tipo_di_vernicBase = 0.1147455867082;
Q_REP_Tipo_di_vernicMetallizzato = 0.88473520249221;
Q_REP_Tipo_di_vernicPerlato = 0.00051921079958;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 108.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
108.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1120.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1120.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 23900 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 23900 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_REP_Tipo_di_vernicBase = 0.8125;
P_REP_Tipo_di_vernicMetallizzato = 0.1875;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.8125;
Q_REP_Tipo_di_vernicMetallizzato = 0.1875;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'BASE';
U_REP_Tipo_di_vernice = 'Base';
END;
ELSE DO;
P_REP_Tipo_di_vernicBase = 0.25842696629213;
P_REP_Tipo_di_vernicMetallizzato = 0.74157303370786;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.25842696629213;
Q_REP_Tipo_di_vernicMetallizzato = 0.74157303370786;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
END;
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Usato_Garantito , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 13475 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 13475 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_REP_Tipo_di_vernicBase = 0.14285714285714;
P_REP_Tipo_di_vernicMetallizzato = 0.85714285714285;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.14285714285714;
Q_REP_Tipo_di_vernicMetallizzato = 0.85714285714285;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( conditional_on_price , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('12' ,'41' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ,'1' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('ALTRO' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('METANO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'GPL' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_REP_Tipo_di_vernicBase = 0.3125;
P_REP_Tipo_di_vernicMetallizzato = 0.6875;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.3125;
Q_REP_Tipo_di_vernicMetallizzato = 0.6875;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'METALLIZZATO';
U_REP_Tipo_di_vernice = 'Metallizzato';
END;
ELSE DO;
P_REP_Tipo_di_vernicBase = 0.97058823529411;
P_REP_Tipo_di_vernicMetallizzato = 0.02941176470588;
P_REP_Tipo_di_vernicPerlato = 0;
Q_REP_Tipo_di_vernicBase = 0.97058823529411;
Q_REP_Tipo_di_vernicMetallizzato = 0.02941176470588;
Q_REP_Tipo_di_vernicPerlato = 0;
I_REP_Tipo_di_vernice = 'BASE';
U_REP_Tipo_di_vernice = 'Base';
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: REP_Tipo_di_vernice;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_REP_Tipo_di_vernice);
if _format200="PERLATO" then IMP_REP_Tipo_di_vernice = "Perlato     ";
else
if _format200="METALLIZZATO" then IMP_REP_Tipo_di_vernice = "Metallizzato";
else
if _format200="BASE" then IMP_REP_Tipo_di_vernice = "Base        ";
END;
*;
* IMPUTE VARIABLE: Tipo_di_cambio;
*;
length IMP_Tipo_di_cambio $14;
label IMP_Tipo_di_cambio = 'Imputed Tipo_di_cambio';
IMP_Tipo_di_cambio = Tipo_di_cambio;
if IMP_Tipo_di_cambio eq '' then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Tipo_di_cambio $ 14;
LENGTH U_Tipo_di_cambio $ 14;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Tipo_di_cambioAutomatico = 'Previsto: Tipo_di_cambio=Automatico';
label P_Tipo_di_cambioManuale = 'Previsto: Tipo_di_cambio=Manuale';
label P_Tipo_di_cambioSemiautomatico =
'Previsto: Tipo_di_cambio=Semiautomatico';
label Q_Tipo_di_cambioAutomatico =
'P non corretto: Tipo_di_cambio=Automatico';
label Q_Tipo_di_cambioManuale = 'P non corretto: Tipo_di_cambio=Manuale';
label Q_Tipo_di_cambioSemiautomatico =
'P non corretto: Tipo_di_cambio=Semiautomatico';
label I_Tipo_di_cambio = 'In: Tipo_di_cambio';
label U_Tipo_di_cambio = 'Non normalizzata in: Tipo_di_cambio';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_14 $ 14;
DROP _ARBFMT_14;
_ARBFMT_14 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Marce , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ,'7' ,'8' ,'4' ,'9' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('5' ,'6' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 28955 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 28955 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('Q3' ,'DS 3 CROSSBACK' ,'A4' ,'LEAF' ,'GRANDLAND X' ,
'Q5' ,'C-HR' ,'3008' ,'X3' ,'PASSAT VARIANT' ,'508' ,'520' ,'A6' ,
'CAYENNE' ,'GOLF' ,'A5' ,'A3' ,'CLA 200' ,'STELVIO' ,'ATECA' ,'WRANGLER' ,
'Q2' ,'OCTAVIA' ,'FOCUS' ,'PASSAT' ,'318' ,'SCALA' ,'GIULIA' ,'E-PACE' ,
'118' ,'B 180' ,'218' ,'216' ,'420' ,'C 220' ,'COOPER D COUNTRYMAN' ,
'CHEROKEE' ,'COOPER D CLUBMAN' ,'A4 ALLROAD' ,'320' ,'730' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('FORTWO' ,'KONA' ,'208' ,'CORSA' ,'PARTNER' ,
'KANGOO' ,'NEW PANDA' ,'500' ,'PANDA' ,'YPSILON' ,'TWINGO' ,'DUSTER' ,
'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,'COMPASS' ,'STONIC' ,'SPORTAGE' ,
'CROSSLAND X' ,'TIPO' ,'CLIO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,
'VITARA' ,'500L' ,'500C' ,'PUMA' ,'X1' ,'CX-30' ,'LEON' ,'UP!' ,'POLO' ,
'T-ROC' ,'ARONA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,'X-TRAIL' ,'T-CROSS' ,
'TIGUAN' ,'MEGANE' ,'TALISMAN' ,'ASTRA' ,'GOLF VARIANT' ,'308' ,
'C4 CACTUS' ,'IBIZA' ,'COMBO' ,'TUCSON' ,'GRAND C4 SPACETOURER' ,
'SCENIC' ,'DOBLO' ,'CADDY' ,'TOURAN' ,'FIORINO' ,'L200' ,'INSIGNIA' ,
'ESPACE' ,'C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 23595 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
23595 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'KONA' ,'208' ,'CORSA' ,'PARTNER' ,
'KANGOO' ,'NEW PANDA' ,'500' ,'PANDA' ,'YPSILON' ,'TWINGO' ,'DUSTER' ,
'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,'STONIC' ,'SPORTAGE' ,
'CROSSLAND X' ,'TIPO' ,'CLIO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,
'VITARA' ,'500L' ,'500C' ,'PUMA' ,'LEON' ,'COROLLA' ,'YARIS' ,'UP!' ,
'POLO' ,'ARONA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,'T-CROSS' ,'MEGANE' ,
'ASTRA' ,'FOCUS' ,'GOLF VARIANT' ,'308' ,'C4 CACTUS' ,'IBIZA' ,'SCALA' ,
'COMBO' ,'GRAND C4 SPACETOURER' ,'SCENIC' ,'DOBLO' ,'CADDY' ,'FIORINO' )
THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('NIRO' ,'COMPASS' ,'GRANDLAND X' ,'X1' ,'C-HR' ,
'CX-30' ,'GOLF' ,'A3' ,'T-ROC' ,'X-TRAIL' ,'Q2' ,'TIGUAN' ,'TALISMAN' ,
'318' ,'TUCSON' ,'218' ,'TOURAN' ,'420' ,'L200' ,'COOPER D COUNTRYMAN' ,
'INSIGNIA' ,'ESPACE' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1692.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1692.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('RENEGADE' ,'X1' ,'C-HR' ,'A3' ,'TIGUAN' ,'TALISMAN' ,
'318' ,'218' ,'TOURAN' ,'420' ,'L200' ,'COOPER D COUNTRYMAN' ,
'INSIGNIA' ,'ESPACE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('COMPASS' ,'GRANDLAND X' ,'VITARA' ,'CX-30' ,
'GOLF' ,'T-ROC' ,'KADJAR' ,'QASHQAI' ,'X-TRAIL' ,'Q2' ,'SCENIC' ) THEN
DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 28758.5 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 28758.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1773.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1773.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 91.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
91.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN
DO;
IF REP_Consumo_Carburante_Totale < 3.55 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 3.55 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 499 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 499 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_cambioAutomatico = 0.61538461538461;
P_Tipo_di_cambioManuale = 0.07692307692307;
P_Tipo_di_cambioSemiautomatico = 0.3076923076923;
Q_Tipo_di_cambioAutomatico = 0.61538461538461;
Q_Tipo_di_cambioManuale = 0.07692307692307;
Q_Tipo_di_cambioSemiautomatico = 0.3076923076923;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
ELSE DO;
P_Tipo_di_cambioAutomatico = 0.12587412587412;
P_Tipo_di_cambioManuale = 0.86713286713286;
P_Tipo_di_cambioSemiautomatico = 0.006993006993;
Q_Tipo_di_cambioAutomatico = 0.12587412587412;
Q_Tipo_di_cambioManuale = 0.86713286713286;
Q_Tipo_di_cambioSemiautomatico = 0.006993006993;
I_Tipo_di_cambio = 'MANUALE';
U_Tipo_di_cambio = 'Manuale';
END;
END;
ELSE DO;
P_Tipo_di_cambioAutomatico = 0.62672811059907;
P_Tipo_di_cambioManuale = 0.35483870967741;
P_Tipo_di_cambioSemiautomatico = 0.0184331797235;
Q_Tipo_di_cambioAutomatico = 0.62672811059907;
Q_Tipo_di_cambioManuale = 0.35483870967741;
Q_Tipo_di_cambioSemiautomatico = 0.0184331797235;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_10 = PUT( Tipo_di_unita , $10.);
%DMNORMIP( _ARBFMT_10);
IF _ARBFMT_10 IN ('ANTERIORE' ,'4X4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_10 IN ('POSTERIORE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ,'CABRIO' ,'ALTRO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('BENZINA' ,'DIESEL' ,'ELETTRICA/BENZINA' ,'METANO' ,
'GPL' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('ELETTRICA' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Usato_Garantito , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('1' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('0' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Porte ) THEN DO;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Posti_a_sedere ) THEN DO;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('4' ,'5' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 15950 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
15950 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Porte ) THEN DO;
_ARBFMT_12 = PUT( Porte , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('3' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 449 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 449 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Tipo_di_cambioAutomatico = 0.85714285714285;
P_Tipo_di_cambioManuale = 0.14285714285714;
P_Tipo_di_cambioSemiautomatico = 0;
Q_Tipo_di_cambioAutomatico = 0.85714285714285;
Q_Tipo_di_cambioManuale = 0.14285714285714;
Q_Tipo_di_cambioSemiautomatico = 0;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
ELSE DO;
P_Tipo_di_cambioAutomatico = 0;
P_Tipo_di_cambioManuale = 1;
P_Tipo_di_cambioSemiautomatico = 0;
Q_Tipo_di_cambioAutomatico = 0;
Q_Tipo_di_cambioManuale = 1;
Q_Tipo_di_cambioSemiautomatico = 0;
I_Tipo_di_cambio = 'MANUALE';
U_Tipo_di_cambio = 'Manuale';
END;
END;
ELSE DO;
P_Tipo_di_cambioAutomatico = 0.97826086956521;
P_Tipo_di_cambioManuale = 0.02173913043478;
P_Tipo_di_cambioSemiautomatico = 0;
Q_Tipo_di_cambioAutomatico = 0.97826086956521;
Q_Tipo_di_cambioManuale = 0.02173913043478;
Q_Tipo_di_cambioSemiautomatico = 0;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
END;
ELSE DO;
_ARBFMT_12 = PUT( Marce , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ,'6' ) THEN DO;
P_Tipo_di_cambioAutomatico = 0.04097492052278;
P_Tipo_di_cambioManuale = 0.95831861533027;
P_Tipo_di_cambioSemiautomatico = 0.00070646414694;
Q_Tipo_di_cambioAutomatico = 0.04097492052278;
Q_Tipo_di_cambioManuale = 0.95831861533027;
Q_Tipo_di_cambioSemiautomatico = 0.00070646414694;
I_Tipo_di_cambio = 'MANUALE';
U_Tipo_di_cambio = 'Manuale';
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('500' ,'PANDA' ,'YPSILON' ,'500X' ,'CAPTUR' ,
'RENEGADE' ,'TIPO' ,'500L' ,'ASTRA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('YARIS' ,'POLO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('BERLINA' ,'ALTRO' ,'SUV/FUORISTRADA/PICK-UP' ,
'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('CITY CAR' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Tipo_di_cambioAutomatico = 0.84848484848484;
P_Tipo_di_cambioManuale = 0.15151515151515;
P_Tipo_di_cambioSemiautomatico = 0;
Q_Tipo_di_cambioAutomatico = 0.84848484848484;
Q_Tipo_di_cambioManuale = 0.15151515151515;
Q_Tipo_di_cambioSemiautomatico = 0;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 81 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
81 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 22795 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 22795 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_cambioAutomatico = 0.63636363636363;
P_Tipo_di_cambioManuale = 0.36363636363636;
P_Tipo_di_cambioSemiautomatico = 0;
Q_Tipo_di_cambioAutomatico = 0.63636363636363;
Q_Tipo_di_cambioManuale = 0.36363636363636;
Q_Tipo_di_cambioSemiautomatico = 0;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
ELSE DO;
P_Tipo_di_cambioAutomatico = 0.11675126903553;
P_Tipo_di_cambioManuale = 0.88324873096446;
P_Tipo_di_cambioSemiautomatico = 0;
Q_Tipo_di_cambioAutomatico = 0.11675126903553;
Q_Tipo_di_cambioManuale = 0.88324873096446;
Q_Tipo_di_cambioSemiautomatico = 0;
I_Tipo_di_cambio = 'MANUALE';
U_Tipo_di_cambio = 'Manuale';
END;
END;
END;
END;
END;
END;
ELSE DO;
P_Tipo_di_cambioAutomatico = 0.94772507260406;
P_Tipo_di_cambioManuale = 0.03000968054211;
P_Tipo_di_cambioSemiautomatico = 0.02226524685382;
Q_Tipo_di_cambioAutomatico = 0.94772507260406;
Q_Tipo_di_cambioManuale = 0.03000968054211;
Q_Tipo_di_cambioSemiautomatico = 0.02226524685382;
I_Tipo_di_cambio = 'AUTOMATICO';
U_Tipo_di_cambio = 'Automatico';
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Tipo_di_cambio;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Tipo_di_cambio);
if _format200="SEMIAUTOMATICO" then IMP_Tipo_di_cambio = "Semiautomatico";
else
if _format200="MANUALE" then IMP_Tipo_di_cambio = "Manuale       ";
else
if _format200="AUTOMATICO" then IMP_Tipo_di_cambio = "Automatico    ";
END;
*;
* IMPUTE VARIABLE: Tipo_di_unita;
*;
length IMP_Tipo_di_unita $10;
label IMP_Tipo_di_unita = 'Imputed Tipo_di_unita';
IMP_Tipo_di_unita = Tipo_di_unita;
if IMP_Tipo_di_unita eq '' then do;
****************************************************************;
****** DECISION TREE SCORING CODE ******;
****************************************************************;
****** LENGTHS OF NEW CHARACTER VARIABLES ******;
LENGTH I_Tipo_di_unita $ 10;
LENGTH U_Tipo_di_unita $ 10;
LENGTH _WARN_ $ 4;
****** LABELS FOR NEW VARIABLES ******;
label P_Tipo_di_unitaposteriore = 'Previsto: Tipo_di_unita=posteriore';
label P_Tipo_di_unitaanteriore = 'Previsto: Tipo_di_unita=anteriore';
label P_Tipo_di_unita4x4 = 'Previsto: Tipo_di_unita=4x4';
label Q_Tipo_di_unitaposteriore = 'P non corretto: Tipo_di_unita=posteriore';
label Q_Tipo_di_unitaanteriore = 'P non corretto: Tipo_di_unita=anteriore';
label Q_Tipo_di_unita4x4 = 'P non corretto: Tipo_di_unita=4x4';
label I_Tipo_di_unita = 'In: Tipo_di_unita';
label U_Tipo_di_unita = 'Non normalizzata in: Tipo_di_unita';
label _WARN_ = 'Avvertimenti';
****** TEMPORARY VARIABLES FOR FORMATTED VALUES ******;
LENGTH _ARBFMT_10 $ 10;
DROP _ARBFMT_10;
_ARBFMT_10 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_20 $ 20;
DROP _ARBFMT_20;
_ARBFMT_20 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_23 $ 23;
DROP _ARBFMT_23;
_ARBFMT_23 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_17 $ 17;
DROP _ARBFMT_17;
_ARBFMT_17 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_12 $ 12;
DROP _ARBFMT_12;
_ARBFMT_12 = ' ';
/* Initialize to avoid warning. */
LENGTH _ARBFMT_14 $ 14;
DROP _ARBFMT_14;
_ARBFMT_14 = ' ';
/* Initialize to avoid warning. */
****** ASSIGN OBSERVATION TO NODE ******;
DROP _BRANCH_;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 34550 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
34550 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ,'KONA' ,'DS 3 CROSSBACK' ,'LEAF' ,'208' ,
'CORSA' ,'NIRO' ,'PARTNER' ,'KANGOO' ,'NEW PANDA' ,'500' ,'PANDA' ,
'YPSILON' ,'TWINGO' ,'DUSTER' ,'500X' ,'CAPTUR' ,'TIVOLI' ,'RENEGADE' ,
'COMPASS' ,'STONIC' ,'SPORTAGE' ,'GRANDLAND X' ,'OUTLANDER' ,
'CROSSLAND X' ,'TIPO' ,'CLIO' ,'SANDERO' ,'GIULIETTA' ,'FIESTA' ,'C3' ,
'VITARA' ,'500L' ,'500C' ,'PUMA' ,'C-HR' ,'CX-30' ,'3008' ,'XV' ,
'PASSAT VARIANT' ,'508' ,'LEON' ,'COROLLA' ,'GOLF' ,'YARIS' ,'A3' ,'UP!' ,
'POLO' ,'T-ROC' ,'ARONA' ,'ATECA' ,'KADJAR' ,'KAMIQ' ,'QASHQAI' ,
'X-TRAIL' ,'T-CROSS' ,'Q2' ,'TIGUAN' ,'OCTAVIA' ,'MEGANE' ,'TALISMAN' ,
'ASTRA' ,'FOCUS' ,'GOLF VARIANT' ,'308' ,'PASSAT' ,'C4 CACTUS' ,'IBIZA' ,
'SCALA' ,'COMBO' ,'SCENIC' ,'DOBLO' ,'CADDY' ,'B 180' ,'218' ,'216' ,
'TOURAN' ,'FIORINO' ,'116' ,'L200' ,'COOPER D COUNTRYMAN' ,'INSIGNIA' ,
'COOPER D CLUBMAN' ,'C4 SPACETOURER' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'E-TRON' ,'A4' ,'Q5' ,'NX 300' ,'UX 250H' ,
'X1' ,'X3' ,'520' ,'A6' ,'A5' ,'CLA 200' ,'STELVIO' ,'WRANGLER' ,'318' ,
'GIULIA' ,'118' ,'420' ,'C 220' ,'A4 ALLROAD' ,'320' ,'730' ,'ESPACE' )
THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1962 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1962 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('Q3' ,'E-TRON' ,'A4' ,'GRANDLAND X' ,'Q5' ,'NX 300' ,
'UX 250H' ,'X1' ,'X3' ,'PASSAT VARIANT' ,'508' ,'A6' ,'A5' ,'A3' ,
'CLA 200' ,'STELVIO' ,'WRANGLER' ,'TIGUAN' ,'PASSAT' ,'C 220' ,
'A4 ALLROAD' ,'730' ,'ESPACE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('520' ,'318' ,'GIULIA' ,'218' ,'420' ,'320' ) THEN
DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF 35295 <= REP_price THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_price < 35295 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'ALTRO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('520' ,'318' ,'GIULIA' ,'420' ,'320' ) THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1672.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Peso_a_vuoto ) AND
1672.5 <= REP_Peso_a_vuoto THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Emissioni_di_CO2 ) THEN DO;
IF REP_Emissioni_di_CO2 < 131.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 131.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('318' ,'GIULIA' ,'420' ,'320' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('520' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0.84285714285714;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.15714285714285;
Q_Tipo_di_unitaposteriore = 0.84285714285714;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.15714285714285;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Peso_a_vuoto ) AND
REP_Peso_a_vuoto < 1720 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Peso_a_vuoto ) AND
1720 <= REP_Peso_a_vuoto THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Modello ) THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('320' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('520' ,'420' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN
DO;
IF REP_Consumo_Carburante_Totale < 4.7 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 4.7 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
P_Tipo_di_unitaposteriore = 0.85714285714285;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.14285714285714;
Q_Tipo_di_unitaposteriore = 0.85714285714285;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.14285714285714;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 1;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 1;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.38461538461538;
P_Tipo_di_unitaanteriore = 0.46153846153846;
P_Tipo_di_unita4x4 = 0.15384615384615;
Q_Tipo_di_unitaposteriore = 0.38461538461538;
Q_Tipo_di_unitaanteriore = 0.46153846153846;
Q_Tipo_di_unita4x4 = 0.15384615384615;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('E-TRON' ,'GRANDLAND X' ,'Q5' ,'NX 300' ,'UX 250H' ,
'X1' ,'X3' ,'STELVIO' ,'WRANGLER' ,'TIGUAN' ,'PASSAT' ,'C 220' ,
'A4 ALLROAD' ,'730' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('Q3' ,'A4' ,'PASSAT VARIANT' ,'508' ,'A6' ,'A5' ,
'A3' ,'CLA 200' ,'ESPACE' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('ALTRO' ,'SUV/FUORISTRADA/PICK-UP' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('BERLINA' ,'CABRIO' ,'434F5550C383C2A9'x ,
'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 1985.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 1985.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1997.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Cilindrata ) AND
1997.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 58000 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 58000 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Cilindri ) THEN DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('6' ,'8' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
IF NOT MISSING(REP_Cilindrata ) AND
REP_Cilindrata < 1998.5 THEN DO;
P_Tipo_di_unitaposteriore = 0.83333333333333;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.16666666666666;
Q_Tipo_di_unitaposteriore = 0.83333333333333;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.16666666666666;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_price ) AND
REP_price < 45300 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_price ) AND
45300 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Cilindri ) THEN DO;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('6' ,'8' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.6;
P_Tipo_di_unita4x4 = 0.4;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.6;
Q_Tipo_di_unita4x4 = 0.4;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.07142857142857;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0.92857142857142;
Q_Tipo_di_unitaposteriore = 0.07142857142857;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0.92857142857142;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
REP_Emissioni_di_CO2 < 127.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
127.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale ) THEN
DO;
IF REP_Consumo_Carburante_Totale < 4.95 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 4.95 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1996 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1996 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('BENZINA' ,'ELETTRICA/BENZINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('DIESEL' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale )
THEN DO;
IF 5.55 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Consumo_Carburante_Totale
< 5.55 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 42200 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 42200 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0.04761904761904;
P_Tipo_di_unitaanteriore = 0.85714285714285;
P_Tipo_di_unita4x4 = 0.09523809523809;
Q_Tipo_di_unitaposteriore = 0.04761904761904;
Q_Tipo_di_unitaanteriore = 0.85714285714285;
Q_Tipo_di_unita4x4 = 0.09523809523809;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.29629629629629;
P_Tipo_di_unita4x4 = 0.7037037037037;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.29629629629629;
Q_Tipo_di_unita4x4 = 0.7037037037037;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
IF NOT MISSING(REP_price ) AND
56200 <= REP_price THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.4;
P_Tipo_di_unita4x4 = 0.6;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.4;
Q_Tipo_di_unita4x4 = 0.6;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.02898550724637;
P_Tipo_di_unitaanteriore = 0.94202898550724;
P_Tipo_di_unita4x4 = 0.02898550724637;
Q_Tipo_di_unitaposteriore = 0.02898550724637;
Q_Tipo_di_unitaanteriore = 0.94202898550724;
Q_Tipo_di_unita4x4 = 0.02898550724637;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.018779342723;
P_Tipo_di_unitaanteriore = 0.12206572769953;
P_Tipo_di_unita4x4 = 0.85915492957746;
Q_Tipo_di_unitaposteriore = 0.018779342723;
Q_Tipo_di_unitaanteriore = 0.12206572769953;
Q_Tipo_di_unita4x4 = 0.85915492957746;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Posti_a_sedere , BEST12.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('4' ,'5' ,'3' ,'7' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Carrozzeria ) THEN DO;
_ARBFMT_23 = PUT( Carrozzeria , $23.);
%DMNORMIP( _ARBFMT_23);
IF _ARBFMT_23 IN ('CITY CAR' ,'BERLINA' ,'CABRIO' ,'ALTRO' ,
'SUV/FUORISTRADA/PICK-UP' ,'STATION WAGON' ,'MONOVOLUME' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_23 IN ('434F5550C383C2A9'x ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_20 IN ('TIPO' ,'DOBLO' ,'CADDY' ,'FIORINO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF REP_Cilindrata < 1123.5 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 1123.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Alimentazione ) THEN DO;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('ELETTRICA' ,'BENZINA' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('DIESEL' ,'METANO' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('FORTWO' ) THEN DO;
P_Tipo_di_unitaposteriore = 0.98148148148148;
P_Tipo_di_unitaanteriore = 0.01851851851851;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 0.98148148148148;
Q_Tipo_di_unitaanteriore = 0.01851851851851;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 1;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 1;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 1;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 1;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
ELSE DO;
_ARBFMT_20 = PUT( Modello , $20.);
%DMNORMIP( _ARBFMT_20);
IF _ARBFMT_20 IN ('TWINGO' ,'XV' ) THEN DO;
_ARBFMT_12 = PUT( Marce , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
P_Tipo_di_unitaposteriore = 1;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 0;
Q_Tipo_di_unitaposteriore = 1;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 0;
I_Tipo_di_unita = 'POSTERIORE';
U_Tipo_di_unita = 'posteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0;
P_Tipo_di_unita4x4 = 1;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0;
Q_Tipo_di_unita4x4 = 1;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
_BRANCH_ = -1;
_ARBFMT_12 = PUT( Cilindri , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('0' ,'3' ,'4' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('2' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Cilindrata ) THEN DO;
IF 886.5 <= REP_Cilindrata THEN DO;
_BRANCH_ = 1;
END;
ELSE IF REP_Cilindrata < 886.5 THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 1;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 1;
IF _BRANCH_ EQ 2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_17 = PUT( Alimentazione , $17.);
%DMNORMIP( _ARBFMT_17);
IF _ARBFMT_17 IN ('METANO' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_17 IN ('BENZINA' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 14375 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 14375 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(Marce ) THEN DO;
_ARBFMT_12 = PUT( Marce , BEST.);
%DMNORMIP( _ARBFMT_12);
IF _ARBFMT_12 IN ('5' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_12 IN ('6' ) THEN DO;
_BRANCH_ = 2;
END;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.97916666666666;
P_Tipo_di_unita4x4 = 0.02083333333333;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.97916666666666;
Q_Tipo_di_unita4x4 = 0.02083333333333;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.01818181818181;
P_Tipo_di_unita4x4 = 0.98181818181818;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.01818181818181;
Q_Tipo_di_unita4x4 = 0.98181818181818;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
IF NOT MISSING(REP_Emissioni_di_CO2 ) AND
165.5 <= REP_Emissioni_di_CO2 THEN DO;
_BRANCH_ = -1;
_ARBFMT_14 = PUT( Tipo_di_cambio , $14.);
%DMNORMIP( _ARBFMT_14);
IF _ARBFMT_14 IN ('MANUALE' ) THEN DO;
_BRANCH_ = 1;
END;
ELSE IF _ARBFMT_14 IN ('AUTOMATICO' ) THEN DO;
_BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_price ) THEN DO;
IF REP_price < 21400 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 21400 <= REP_price THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 AND NOT MISSING(REP_Consumo_Carburante_Totale )
THEN DO;
IF REP_Consumo_Carburante_Totale
< 7.65 THEN DO;
_BRANCH_ = 1;
END;
ELSE IF 7.65 <= REP_Consumo_Carburante_Totale
THEN DO;
_BRANCH_ = 2;
END;
ELSE _BRANCH_ = 2;
END;
IF _BRANCH_ LT 0 THEN _BRANCH_ = 2;
IF _BRANCH_ EQ 1 THEN DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.76470588235294;
P_Tipo_di_unita4x4 = 0.23529411764705;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.76470588235294;
Q_Tipo_di_unita4x4 = 0.23529411764705;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0;
P_Tipo_di_unitaanteriore = 0.12;
P_Tipo_di_unita4x4 = 0.88;
Q_Tipo_di_unitaposteriore = 0;
Q_Tipo_di_unitaanteriore = 0.12;
Q_Tipo_di_unita4x4 = 0.88;
I_Tipo_di_unita = '4X4';
U_Tipo_di_unita = '4x4';
END;
END;
ELSE DO;
P_Tipo_di_unitaposteriore = 0.00828571428571;
P_Tipo_di_unitaanteriore = 0.96028571428571;
P_Tipo_di_unita4x4 = 0.03142857142857;
Q_Tipo_di_unitaposteriore = 0.00828571428571;
Q_Tipo_di_unitaanteriore = 0.96028571428571;
Q_Tipo_di_unita4x4 = 0.03142857142857;
I_Tipo_di_unita = 'ANTERIORE';
U_Tipo_di_unita = 'anteriore';
END;
END;
END;
END;
END;
****************************************************************;
****** END OF DECISION TREE SCORING CODE ******;
****************************************************************;
*;
* ASSIGN VALUE TO: Tipo_di_unita;
*;
length _format200 $200;
drop _format200;
_format200 = strip(I_Tipo_di_unita);
if _format200="POSTERIORE" then IMP_Tipo_di_unita = "posteriore";
else
if _format200="ANTERIORE" then IMP_Tipo_di_unita = "anteriore ";
else
if _format200="4X4" then IMP_Tipo_di_unita = "4x4       ";
END;
*;
* Drop prediction variables since they are for INPUTS not TARGETS;
* Replace _NODE_ by _XODE_ so it can be safely dropped;
*;
drop
P_Cilindri5
P_Cilindri8
P_Cilindri6
P_Cilindri2
P_Cilindri1
P_Cilindri4
P_Cilindri3
P_Cilindri0
I_Cilindri
U_Cilindri
Q_Cilindri5
Q_Cilindri8
Q_Cilindri6
Q_Cilindri2
Q_Cilindri1
Q_Cilindri4
Q_Cilindri3
Q_Cilindri0
P_Classe_emissioniEuro_5
P_Classe_emissioniEuro_4
P_Classe_emissioniEuro_6d
P_Classe_emissioniEuro_6d_TEMP
P_Classe_emissioniEuro_6
P_Classe_emissioniEuro_6c
P_Classe_emissioniElettrica
I_Classe_emissioni
U_Classe_emissioni
Q_Classe_emissioniEuro_5
Q_Classe_emissioniEuro_4
Q_Classe_emissioniEuro_6d
Q_Classe_emissioniEuro_6d_TEMP
Q_Classe_emissioniEuro_6
Q_Classe_emissioniEuro_6c
Q_Classe_emissioniElettrica
P_Colore_esternoBronzo
P_Colore_esternoBeige
P_Colore_esternoOro
P_Colore_esternoGiallo
P_Colore_esternoMarrone
P_Colore_esternoVerde
P_Colore_esternoArancione
P_Colore_esternoLilla
P_Colore_esternoRosso
P_Colore_esternoBianco
P_Colore_esternoArgento
P_Colore_esternoGrigio
P_Colore_esternoBlu_Azzurro
P_Colore_esternoNero
I_Colore_esterno
U_Colore_esterno
Q_Colore_esternoBronzo
Q_Colore_esternoBeige
Q_Colore_esternoOro
Q_Colore_esternoGiallo
Q_Colore_esternoMarrone
Q_Colore_esternoVerde
Q_Colore_esternoArancione
Q_Colore_esternoLilla
Q_Colore_esternoRosso
Q_Colore_esternoBianco
Q_Colore_esternoArgento
Q_Colore_esternoGrigio
Q_Colore_esternoBlu_Azzurro
Q_Colore_esternoNero
P_Marce9
P_Marce4
P_Marce8
P_Marce7
P_Marce6
P_Marce5
P_Marce1
I_Marce
U_Marce
Q_Marce9
Q_Marce4
Q_Marce8
Q_Marce7
Q_Marce6
Q_Marce5
Q_Marce1
P_Porte3
P_Porte5
I_Porte
U_Porte
Q_Porte3
Q_Porte5
P_Posti_a_sedere8
P_Posti_a_sedere9
P_Posti_a_sedere6
P_Posti_a_sedere7
P_Posti_a_sedere3
P_Posti_a_sedere5
P_Posti_a_sedere2
P_Posti_a_sedere4
I_Posti_a_sedere
U_Posti_a_sedere
Q_Posti_a_sedere8
Q_Posti_a_sedere9
Q_Posti_a_sedere6
Q_Posti_a_sedere7
Q_Posti_a_sedere3
Q_Posti_a_sedere5
Q_Posti_a_sedere2
Q_Posti_a_sedere4
P_REP_Tipo_di_vernicPerlato
P_REP_Tipo_di_vernicMetallizzato
P_REP_Tipo_di_vernicBase
I_REP_Tipo_di_vernice
U_REP_Tipo_di_vernice
Q_REP_Tipo_di_vernicPerlato
Q_REP_Tipo_di_vernicMetallizzato
Q_REP_Tipo_di_vernicBase
P_Tipo_di_cambioSemiautomatico
P_Tipo_di_cambioManuale
P_Tipo_di_cambioAutomatico
I_Tipo_di_cambio
U_Tipo_di_cambio
Q_Tipo_di_cambioSemiautomatico
Q_Tipo_di_cambioManuale
Q_Tipo_di_cambioAutomatico
P_Tipo_di_unita4x4
P_Tipo_di_unitaanteriore
P_Tipo_di_unitaposteriore
I_Tipo_di_unita
U_Tipo_di_unita
Q_Tipo_di_unita4x4
Q_Tipo_di_unitaanteriore
Q_Tipo_di_unitaposteriore
;
